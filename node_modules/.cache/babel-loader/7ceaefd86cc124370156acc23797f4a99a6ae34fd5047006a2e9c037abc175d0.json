{"ast":null,"code":"export function toCSV(detections){const headers=['Item','Quantity','Confidence','Notes'];const rows=detections.map(detection=>[detection.label,detection.qty.toString(),\"\".concat(Math.round(detection.confidence*100),\"%\"),detection.notes||'']);return[headers,...rows].map(row=>row.map(cell=>\"\\\"\".concat(cell,\"\\\"\")).join(',')).join('\\n');}export function generatePdf(quotePayload){// Placeholder implementation - would integrate with a PDF library like jsPDF\nreturn new Promise(resolve=>{const content=\"\\n      INSTANT QUOTE BUILDER\\n      \\n      Address: \".concat(quotePayload.address,\"\\n      Date: \").concat(quotePayload.timestamp.toLocaleDateString(),\"\\n      \\n      INVENTORY:\\n      \").concat(quotePayload.detections.map(d=>\"\\u2022 \".concat(d.label,\" (\").concat(d.qty,\") - \").concat(Math.round(d.confidence*100),\"% confidence\")).join('\\n'),\"\\n      \\n      ESTIMATE:\\n      Crew Size: \").concat(quotePayload.estimate.crew,\"\\n      Hourly Rate: $\").concat(quotePayload.estimate.rate,\"\\n      Estimated Hours: \").concat(quotePayload.estimate.hours,\"\\n      Total: $\").concat(quotePayload.estimate.total,\"\\n    \");const blob=new Blob([content],{type:'text/plain'});resolve(blob);});}export function downloadFile(content,filename){let mimeType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'text/plain';const blob=content instanceof Blob?content:new Blob([content],{type:mimeType});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);}","map":{"version":3,"names":["toCSV","detections","headers","rows","map","detection","label","qty","toString","concat","Math","round","confidence","notes","row","cell","join","generatePdf","quotePayload","Promise","resolve","content","address","timestamp","toLocaleDateString","d","estimate","crew","rate","hours","total","blob","Blob","type","downloadFile","filename","mimeType","arguments","length","undefined","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL"],"sources":["/Users/admin/random/src/lib/export.ts"],"sourcesContent":["import { Detection, QuotePayload } from '../types';\n\nexport function toCSV(detections: Detection[]): string {\n  const headers = ['Item', 'Quantity', 'Confidence', 'Notes'];\n  const rows = detections.map(detection => [\n    detection.label,\n    detection.qty.toString(),\n    `${Math.round(detection.confidence * 100)}%`,\n    detection.notes || ''\n  ]);\n\n  return [headers, ...rows]\n    .map(row => row.map(cell => `\"${cell}\"`).join(','))\n    .join('\\n');\n}\n\nexport function generatePdf(quotePayload: QuotePayload): Promise<Blob> {\n  // Placeholder implementation - would integrate with a PDF library like jsPDF\n  return new Promise((resolve) => {\n    const content = `\n      INSTANT QUOTE BUILDER\n      \n      Address: ${quotePayload.address}\n      Date: ${quotePayload.timestamp.toLocaleDateString()}\n      \n      INVENTORY:\n      ${quotePayload.detections.map(d => \n        `â€¢ ${d.label} (${d.qty}) - ${Math.round(d.confidence * 100)}% confidence`\n      ).join('\\n')}\n      \n      ESTIMATE:\n      Crew Size: ${quotePayload.estimate.crew}\n      Hourly Rate: $${quotePayload.estimate.rate}\n      Estimated Hours: ${quotePayload.estimate.hours}\n      Total: $${quotePayload.estimate.total}\n    `;\n    \n    const blob = new Blob([content], { type: 'text/plain' });\n    resolve(blob);\n  });\n}\n\nexport function downloadFile(content: string | Blob, filename: string, mimeType: string = 'text/plain') {\n  const blob = content instanceof Blob ? content : new Blob([content], { type: mimeType });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\n"],"mappings":"AAEA,MAAO,SAAS,CAAAA,KAAKA,CAACC,UAAuB,CAAU,CACrD,KAAM,CAAAC,OAAO,CAAG,CAAC,MAAM,CAAE,UAAU,CAAE,YAAY,CAAE,OAAO,CAAC,CAC3D,KAAM,CAAAC,IAAI,CAAGF,UAAU,CAACG,GAAG,CAACC,SAAS,EAAI,CACvCA,SAAS,CAACC,KAAK,CACfD,SAAS,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAC,IAAAC,MAAA,CACrBC,IAAI,CAACC,KAAK,CAACN,SAAS,CAACO,UAAU,CAAG,GAAG,CAAC,MACzCP,SAAS,CAACQ,KAAK,EAAI,EAAE,CACtB,CAAC,CAEF,MAAO,CAACX,OAAO,CAAE,GAAGC,IAAI,CAAC,CACtBC,GAAG,CAACU,GAAG,EAAIA,GAAG,CAACV,GAAG,CAACW,IAAI,OAAAN,MAAA,CAAQM,IAAI,MAAG,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAClDA,IAAI,CAAC,IAAI,CAAC,CACf,CAEA,MAAO,SAAS,CAAAC,WAAWA,CAACC,YAA0B,CAAiB,CACrE;AACA,MAAO,IAAI,CAAAC,OAAO,CAAEC,OAAO,EAAK,CAC9B,KAAM,CAAAC,OAAO,0DAAAZ,MAAA,CAGAS,YAAY,CAACI,OAAO,mBAAAb,MAAA,CACvBS,YAAY,CAACK,SAAS,CAACC,kBAAkB,CAAC,CAAC,uCAAAf,MAAA,CAGjDS,YAAY,CAACjB,UAAU,CAACG,GAAG,CAACqB,CAAC,YAAAhB,MAAA,CACxBgB,CAAC,CAACnB,KAAK,OAAAG,MAAA,CAAKgB,CAAC,CAAClB,GAAG,SAAAE,MAAA,CAAOC,IAAI,CAACC,KAAK,CAACc,CAAC,CAACb,UAAU,CAAG,GAAG,CAAC,gBAC7D,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC,iDAAAP,MAAA,CAGCS,YAAY,CAACQ,QAAQ,CAACC,IAAI,2BAAAlB,MAAA,CACvBS,YAAY,CAACQ,QAAQ,CAACE,IAAI,8BAAAnB,MAAA,CACvBS,YAAY,CAACQ,QAAQ,CAACG,KAAK,qBAAApB,MAAA,CACpCS,YAAY,CAACQ,QAAQ,CAACI,KAAK,UACtC,CAED,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACX,OAAO,CAAC,CAAE,CAAEY,IAAI,CAAE,YAAa,CAAC,CAAC,CACxDb,OAAO,CAACW,IAAI,CAAC,CACf,CAAC,CAAC,CACJ,CAEA,MAAO,SAAS,CAAAG,YAAYA,CAACb,OAAsB,CAAEc,QAAgB,CAAmC,IAAjC,CAAAC,QAAgB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,YAAY,CACpG,KAAM,CAAAN,IAAI,CAAGV,OAAO,WAAY,CAAAW,IAAI,CAAGX,OAAO,CAAG,GAAI,CAAAW,IAAI,CAAC,CAACX,OAAO,CAAC,CAAE,CAAEY,IAAI,CAAEG,QAAS,CAAC,CAAC,CACxF,KAAM,CAAAI,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACX,IAAI,CAAC,CACrC,KAAM,CAAAY,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,IAAI,CAAGN,GAAG,CACfG,IAAI,CAACI,QAAQ,CAAGZ,QAAQ,CACxBS,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC,CAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC,CACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC,CAC/BF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC,CAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}