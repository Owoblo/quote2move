{"ast":null,"code":"// OpenAI GPT-4 Vision - PRIMARY AND ONLY detection method for maximum accuracy\nexport const detectFurniture=async photoUrls=>{console.log('Starting OpenAI GPT-4 Vision detection for',photoUrls.length,'photos');console.log('OpenAI API Key configured:',!!process.env.REACT_APP_OPENAI_API_KEY);if(!process.env.REACT_APP_OPENAI_API_KEY){throw new Error('OpenAI API key not configured');}const allDetections=[];for(const photoUrl of photoUrls){try{console.log('Analyzing photo with OpenAI GPT-4 Vision:',photoUrl);const response=await fetch('https://api.openai.com/v1/chat/completions',{method:'POST',headers:{'Authorization':\"Bearer \".concat(process.env.REACT_APP_OPENAI_API_KEY),'Content-Type':'application/json'},body:JSON.stringify({model:'gpt-4o',// Using latest GPT-4o model for best accuracy\nmessages:[{role:'user',content:[{type:'text',text:\"You are a professional MOVING COMPANY inventory specialist. Analyze this real estate photo and identify ONLY items that professional movers can physically move and transport.\\n\\n\\uD83D\\uDE9A MOVER'S INVENTORY - ONLY DETECT MOVABLE ITEMS:\\n\\n\\u2705 MOVABLE FURNITURE & ITEMS (DETECT THESE):\\n- SEATING: Sofas, Sectionals, Loveseats, Recliners, Chairs (Dining, Office, Accent), Ottomans, Benches, Stools\\n- TABLES: Dining Tables, Coffee Tables, End Tables, Console Tables, Side Tables, Kitchen Islands (if freestanding)\\n- BEDS: King Beds, Queen Beds, Twin Beds, Bunk Beds, Daybeds, Futons, Mattresses, Box Springs\\n- STORAGE: Dressers, Chests of Drawers, Nightstands, Bookshelves, Freestanding Cabinets, Wardrobes, Armoires\\n- APPLIANCES: Refrigerators, Stoves, Ovens, Microwaves, Dishwashers, Washers, Dryers, Toasters, Coffee Makers\\n- ELECTRONICS: TVs, Monitors, Computers, Laptops, Sound Systems, Gaming Consoles, Speakers\\n- DECOR: Floor Lamps, Table Lamps, Mirrors (wall-mounted), Artwork, Plants, Vases, Clocks, Area Rugs\\n- KITCHEN: Freestanding Pantries, Wine Racks, Bar Stools, Kitchen Carts\\n- OUTDOOR: Patio Furniture, Grills, Outdoor Chairs/Tables\\n\\n\\u274C DO NOT DETECT (FIXED INSTALLATIONS):\\n- Built-in cabinets, Built-in shelving, Built-in vanities\\n- Chandeliers, Ceiling fans, Light fixtures\\n- Built-in appliances (dishwashers, built-in ovens)\\n- Built-in bathroom vanities, Medicine cabinets\\n- Built-in wardrobes, Built-in closets\\n- Wall-mounted items (unless easily removable)\\n- Built-in countertops, Built-in islands\\n- Fixed mirrors, Built-in mirrors\\n- Built-in seating, Built-in benches\\n\\nCRITICAL REQUIREMENTS:\\n1. COUNT EXACT QUANTITIES - If you see 4 dining chairs, write qty: 4\\n2. BE HIGHLY SPECIFIC - \\\"Large Oak Dining Table\\\", \\\"Sectional Sofa with Ottoman\\\", \\\"King Size Platform Bed\\\"\\n3. INCLUDE ROOM CONTEXT - \\\"Master Bedroom Dresser\\\", \\\"Kitchen Island Stools\\\", \\\"Living Room Coffee Table\\\"\\n4. DISTINGUISH SIMILAR ITEMS - \\\"Coffee Table\\\" vs \\\"End Table\\\" vs \\\"Console Table\\\"\\n5. SIZE DESCRIPTORS - CRITICAL FOR MOVERS:\\n   - TVs: Estimate screen size in inches (e.g., \\\"40-50 inch TV\\\", \\\"55-65 inch TV\\\", \\\"70+ inch TV\\\"). If unsure, provide a reasonable range based on visual scale compared to furniture nearby.\\n   - Furniture: Provide dimensions or size range when possible (e.g., \\\"Large (7-8 ft)\\\", \\\"Small (4-5 ft)\\\", \\\"Queen Size\\\", \\\"King Size\\\"). Estimate based on visual scale or standard sizes.\\n   - If exact size is unclear, provide a reasonable range (e.g., \\\"Medium-Large\\\", \\\"30-40 inches wide\\\")\\n6. ONLY MOVABLE ITEMS - Skip anything permanently attached or built-in\\n\\nReturn ONLY a valid JSON array with objects containing:\\n- label: VERY SPECIFIC movable furniture type with descriptors (string)\\n- qty: EXACT quantity visible (number) \\n- confidence: confidence score 0-1 (number)\\n- notes: room location and specific details (string)\\n- room: room type (string)\\n- size: size descriptor with specific measurements or ranges - CRITICAL for TVs: estimate inches (e.g., \\\"55-inch\\\", \\\"65-75 inch range\\\"). For furniture: dimensions or size category with ranges (e.g., \\\"Large (7-8 ft)\\\", \\\"Queen Size\\\", \\\"30-40 inches wide\\\")\\n\\nEXAMPLE OUTPUT:\\n[\\n  {\\n    \\\"label\\\": \\\"Large Oak Dining Table\\\",\\n    \\\"qty\\\": 1,\\n    \\\"confidence\\\": 0.98,\\n    \\\"notes\\\": \\\"Dining room centerpiece, seats 6-8 people\\\",\\n    \\\"room\\\": \\\"Dining Room\\\",\\n    \\\"size\\\": \\\"Large\\\"\\n  },\\n  {\\n    \\\"label\\\": \\\"Dining Chairs\\\",\\n    \\\"qty\\\": 6,\\n    \\\"confidence\\\": 0.95,\\n    \\\"notes\\\": \\\"Matching upholstered dining chairs around table\\\",\\n    \\\"room\\\": \\\"Dining Room\\\",\\n    \\\"size\\\": \\\"Standard\\\"\\n  },\\n  {\\n    \\\"label\\\": \\\"TV\\\",\\n    \\\"qty\\\": 1,\\n    \\\"confidence\\\": 0.92,\\n    \\\"notes\\\": \\\"Wall-mounted TV in living room\\\",\\n    \\\"room\\\": \\\"Living Room\\\",\\n    \\\"size\\\": \\\"55-65 inch range\\\"\\n  },\\n  {\\n    \\\"label\\\": \\\"Coffee Table\\\",\\n    \\\"qty\\\": 1,\\n    \\\"confidence\\\": 0.90,\\n    \\\"notes\\\": \\\"Center of living room\\\",\\n    \\\"room\\\": \\\"Living Room\\\",\\n    \\\"size\\\": \\\"Large (5-6 ft long)\\\"\\n  }\\n]\\n\\nRemember: Only detect items that professional movers can physically pick up and transport. Skip built-in, fixed, or permanently installed items.\"},{type:'image_url',image_url:{url:photoUrl,detail:'high'// Maximum detail for best accuracy\n}}]}],max_tokens:2000,// Increased for detailed responses\ntemperature:0.1// Low temperature for consistent, accurate results\n})});if(!response.ok){const errorText=await response.text();console.error('OpenAI API error:',response.status,errorText);continue;}const data=await response.json();const content=data.choices[0].message.content;console.log('OpenAI response:',content);// Parse the JSON response\ntry{// Clean the response by removing markdown code blocks\nlet cleanContent=content.trim();if(cleanContent.startsWith('```json')){cleanContent=cleanContent.replace(/^```json\\s*/,'').replace(/\\s*```$/,'');}else if(cleanContent.startsWith('```')){cleanContent=cleanContent.replace(/^```\\s*/,'').replace(/\\s*```$/,'');}const analysis=JSON.parse(cleanContent);// Add source photo ID to each detection\nanalysis.forEach(item=>{allDetections.push({label:item.label,qty:item.qty||1,confidence:item.confidence||0.9,sourcePhotoId:photoUrl,notes:item.notes||\"Detected by OpenAI GPT-4o\",room:item.room||'Unknown Room',size:item.size||''});});console.log(\"Detected \".concat(analysis.length,\" items in photo\"));}catch(parseError){console.error('Failed to parse OpenAI response:',parseError);console.log('Raw response:',content);}}catch(error){console.error('OpenAI Vision error:',error);// Continue with other photos even if one fails\n}}console.log(\"Total detections before deduplication: \".concat(allDetections.length));const deduplicated=deduplicateDetections(allDetections);console.log(\"Total detections after deduplication: \".concat(deduplicated.length));console.log(\"Duplicates removed: \".concat(allDetections.length-deduplicated.length));return deduplicated;};// Enhanced deduplication for maximum accuracy\nconst deduplicateDetections=detections=>{const deduplicated=[];const seen=new Map();let duplicatesFound=0;detections.forEach(detection=>{// Create a sophisticated key that includes room and size context\nconst normalizedLabel=detection.label.toLowerCase().replace(/\\b(large|small|big|little|tall|short|wide|narrow|standard|medium)\\b/g,'').replace(/\\s+/g,' ').trim();const key=\"\".concat(normalizedLabel,\"-\").concat(detection.room,\"-\").concat(detection.sourcePhotoId);if(!seen.has(key)){seen.set(key,detection);deduplicated.push(detection);}else{// Merge quantities for similar items in the same photo and room\nconst existing=seen.get(key);console.log(\"\\uD83D\\uDD04 Merging duplicate: \\\"\".concat(detection.label,\"\\\" (\").concat(detection.qty,\" + \").concat(existing.qty,\" = \").concat(detection.qty+existing.qty,\")\"));existing.qty+=detection.qty;existing.confidence=Math.max(existing.confidence,detection.confidence);duplicatesFound++;// Update notes to include both descriptions\nif(detection.notes&&detection.notes!==existing.notes){existing.notes=\"\".concat(existing.notes,\"; \").concat(detection.notes);}}});console.log(\"\\u2705 Deduplication complete: \".concat(deduplicated.length,\" unique items, \").concat(duplicatesFound,\" duplicates merged\"));return deduplicated;};","map":{"version":3,"names":["detectFurniture","photoUrls","console","log","length","process","env","REACT_APP_OPENAI_API_KEY","Error","allDetections","photoUrl","response","fetch","method","headers","concat","body","JSON","stringify","model","messages","role","content","type","text","image_url","url","detail","max_tokens","temperature","ok","errorText","error","status","data","json","choices","message","cleanContent","trim","startsWith","replace","analysis","parse","forEach","item","push","label","qty","confidence","sourcePhotoId","notes","room","size","parseError","deduplicated","deduplicateDetections","detections","seen","Map","duplicatesFound","detection","normalizedLabel","toLowerCase","key","has","set","existing","get","Math","max"],"sources":["/Users/admin/random/src/lib/aiDetectionServices.ts"],"sourcesContent":["import { Detection } from '../types';\n\n// OpenAI GPT-4 Vision - PRIMARY AND ONLY detection method for maximum accuracy\nexport const detectFurniture = async (photoUrls: string[]): Promise<Detection[]> => {\n  console.log('Starting OpenAI GPT-4 Vision detection for', photoUrls.length, 'photos');\n  console.log('OpenAI API Key configured:', !!process.env.REACT_APP_OPENAI_API_KEY);\n  \n  if (!process.env.REACT_APP_OPENAI_API_KEY) {\n    throw new Error('OpenAI API key not configured');\n  }\n\n  const allDetections: Detection[] = [];\n  \n  for (const photoUrl of photoUrls) {\n    try {\n      console.log('Analyzing photo with OpenAI GPT-4 Vision:', photoUrl);\n      \n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          model: 'gpt-4o', // Using latest GPT-4o model for best accuracy\n          messages: [{\n            role: 'user',\n            content: [\n                {\n                  type: 'text',\n                  text: `You are a professional MOVING COMPANY inventory specialist. Analyze this real estate photo and identify ONLY items that professional movers can physically move and transport.\n\nðŸšš MOVER'S INVENTORY - ONLY DETECT MOVABLE ITEMS:\n\nâœ… MOVABLE FURNITURE & ITEMS (DETECT THESE):\n- SEATING: Sofas, Sectionals, Loveseats, Recliners, Chairs (Dining, Office, Accent), Ottomans, Benches, Stools\n- TABLES: Dining Tables, Coffee Tables, End Tables, Console Tables, Side Tables, Kitchen Islands (if freestanding)\n- BEDS: King Beds, Queen Beds, Twin Beds, Bunk Beds, Daybeds, Futons, Mattresses, Box Springs\n- STORAGE: Dressers, Chests of Drawers, Nightstands, Bookshelves, Freestanding Cabinets, Wardrobes, Armoires\n- APPLIANCES: Refrigerators, Stoves, Ovens, Microwaves, Dishwashers, Washers, Dryers, Toasters, Coffee Makers\n- ELECTRONICS: TVs, Monitors, Computers, Laptops, Sound Systems, Gaming Consoles, Speakers\n- DECOR: Floor Lamps, Table Lamps, Mirrors (wall-mounted), Artwork, Plants, Vases, Clocks, Area Rugs\n- KITCHEN: Freestanding Pantries, Wine Racks, Bar Stools, Kitchen Carts\n- OUTDOOR: Patio Furniture, Grills, Outdoor Chairs/Tables\n\nâŒ DO NOT DETECT (FIXED INSTALLATIONS):\n- Built-in cabinets, Built-in shelving, Built-in vanities\n- Chandeliers, Ceiling fans, Light fixtures\n- Built-in appliances (dishwashers, built-in ovens)\n- Built-in bathroom vanities, Medicine cabinets\n- Built-in wardrobes, Built-in closets\n- Wall-mounted items (unless easily removable)\n- Built-in countertops, Built-in islands\n- Fixed mirrors, Built-in mirrors\n- Built-in seating, Built-in benches\n\nCRITICAL REQUIREMENTS:\n1. COUNT EXACT QUANTITIES - If you see 4 dining chairs, write qty: 4\n2. BE HIGHLY SPECIFIC - \"Large Oak Dining Table\", \"Sectional Sofa with Ottoman\", \"King Size Platform Bed\"\n3. INCLUDE ROOM CONTEXT - \"Master Bedroom Dresser\", \"Kitchen Island Stools\", \"Living Room Coffee Table\"\n4. DISTINGUISH SIMILAR ITEMS - \"Coffee Table\" vs \"End Table\" vs \"Console Table\"\n5. SIZE DESCRIPTORS - CRITICAL FOR MOVERS:\n   - TVs: Estimate screen size in inches (e.g., \"40-50 inch TV\", \"55-65 inch TV\", \"70+ inch TV\"). If unsure, provide a reasonable range based on visual scale compared to furniture nearby.\n   - Furniture: Provide dimensions or size range when possible (e.g., \"Large (7-8 ft)\", \"Small (4-5 ft)\", \"Queen Size\", \"King Size\"). Estimate based on visual scale or standard sizes.\n   - If exact size is unclear, provide a reasonable range (e.g., \"Medium-Large\", \"30-40 inches wide\")\n6. ONLY MOVABLE ITEMS - Skip anything permanently attached or built-in\n\nReturn ONLY a valid JSON array with objects containing:\n- label: VERY SPECIFIC movable furniture type with descriptors (string)\n- qty: EXACT quantity visible (number) \n- confidence: confidence score 0-1 (number)\n- notes: room location and specific details (string)\n- room: room type (string)\n- size: size descriptor with specific measurements or ranges - CRITICAL for TVs: estimate inches (e.g., \"55-inch\", \"65-75 inch range\"). For furniture: dimensions or size category with ranges (e.g., \"Large (7-8 ft)\", \"Queen Size\", \"30-40 inches wide\")\n\nEXAMPLE OUTPUT:\n[\n  {\n    \"label\": \"Large Oak Dining Table\",\n    \"qty\": 1,\n    \"confidence\": 0.98,\n    \"notes\": \"Dining room centerpiece, seats 6-8 people\",\n    \"room\": \"Dining Room\",\n    \"size\": \"Large\"\n  },\n  {\n    \"label\": \"Dining Chairs\",\n    \"qty\": 6,\n    \"confidence\": 0.95,\n    \"notes\": \"Matching upholstered dining chairs around table\",\n    \"room\": \"Dining Room\",\n    \"size\": \"Standard\"\n  },\n  {\n    \"label\": \"TV\",\n    \"qty\": 1,\n    \"confidence\": 0.92,\n    \"notes\": \"Wall-mounted TV in living room\",\n    \"room\": \"Living Room\",\n    \"size\": \"55-65 inch range\"\n  },\n  {\n    \"label\": \"Coffee Table\",\n    \"qty\": 1,\n    \"confidence\": 0.90,\n    \"notes\": \"Center of living room\",\n    \"room\": \"Living Room\",\n    \"size\": \"Large (5-6 ft long)\"\n  }\n]\n\nRemember: Only detect items that professional movers can physically pick up and transport. Skip built-in, fixed, or permanently installed items.`\n                },\n              {\n                type: 'image_url',\n                image_url: { \n                  url: photoUrl,\n                  detail: 'high' // Maximum detail for best accuracy\n                }\n              }\n            ]\n          }],\n          max_tokens: 2000, // Increased for detailed responses\n          temperature: 0.1 // Low temperature for consistent, accurate results\n        })\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('OpenAI API error:', response.status, errorText);\n        continue;\n      }\n      \n      const data = await response.json();\n      const content = data.choices[0].message.content;\n      \n      console.log('OpenAI response:', content);\n      \n      // Parse the JSON response\n      try {\n        // Clean the response by removing markdown code blocks\n        let cleanContent = content.trim();\n        if (cleanContent.startsWith('```json')) {\n          cleanContent = cleanContent.replace(/^```json\\s*/, '').replace(/\\s*```$/, '');\n        } else if (cleanContent.startsWith('```')) {\n          cleanContent = cleanContent.replace(/^```\\s*/, '').replace(/\\s*```$/, '');\n        }\n        \n        const analysis = JSON.parse(cleanContent);\n        \n        // Add source photo ID to each detection\n        analysis.forEach((item: any) => {\n          allDetections.push({\n            label: item.label,\n            qty: item.qty || 1,\n            confidence: item.confidence || 0.9,\n            sourcePhotoId: photoUrl,\n            notes: item.notes || `Detected by OpenAI GPT-4o`,\n            room: item.room || 'Unknown Room',\n            size: item.size || ''\n          });\n        });\n        \n        console.log(`Detected ${analysis.length} items in photo`);\n        \n      } catch (parseError) {\n        console.error('Failed to parse OpenAI response:', parseError);\n        console.log('Raw response:', content);\n      }\n      \n    } catch (error) {\n      console.error('OpenAI Vision error:', error);\n      // Continue with other photos even if one fails\n    }\n  }\n  \n  console.log(`Total detections before deduplication: ${allDetections.length}`);\n  const deduplicated = deduplicateDetections(allDetections);\n  console.log(`Total detections after deduplication: ${deduplicated.length}`);\n  console.log(`Duplicates removed: ${allDetections.length - deduplicated.length}`);\n  return deduplicated;\n};\n\n// Enhanced deduplication for maximum accuracy\nconst deduplicateDetections = (detections: Detection[]): Detection[] => {\n  const deduplicated: Detection[] = [];\n  const seen = new Map<string, Detection>();\n  let duplicatesFound = 0;\n  \n  detections.forEach(detection => {\n    // Create a sophisticated key that includes room and size context\n    const normalizedLabel = detection.label.toLowerCase()\n      .replace(/\\b(large|small|big|little|tall|short|wide|narrow|standard|medium)\\b/g, '')\n      .replace(/\\s+/g, ' ')\n      .trim();\n    \n    const key = `${normalizedLabel}-${detection.room}-${detection.sourcePhotoId}`;\n    \n    if (!seen.has(key)) {\n      seen.set(key, detection);\n      deduplicated.push(detection);\n    } else {\n      // Merge quantities for similar items in the same photo and room\n      const existing = seen.get(key)!;\n      console.log(`ðŸ”„ Merging duplicate: \"${detection.label}\" (${detection.qty} + ${existing.qty} = ${detection.qty + existing.qty})`);\n      existing.qty += detection.qty;\n      existing.confidence = Math.max(existing.confidence, detection.confidence);\n      duplicatesFound++;\n      \n      // Update notes to include both descriptions\n      if (detection.notes && detection.notes !== existing.notes) {\n        existing.notes = `${existing.notes}; ${detection.notes}`;\n      }\n    }\n  });\n  \n  console.log(`âœ… Deduplication complete: ${deduplicated.length} unique items, ${duplicatesFound} duplicates merged`);\n  return deduplicated;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}