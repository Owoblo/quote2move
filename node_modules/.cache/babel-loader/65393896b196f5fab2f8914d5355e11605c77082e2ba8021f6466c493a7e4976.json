{"ast":null,"code":"/**\n * Saturn Star Movers GPT Service\n * Uses GPT to calculate accurate move time based on inventory, cubic feet, weight, and distance\n */\n\nexport class SaturnGPTService {\n  static async calculateMoveTime(data) {\n    if (!this.API_KEY) {\n      throw new Error('OpenAI API key not configured. Please add REACT_APP_OPENAI_API_KEY to your .env file');\n    }\n    const systemPrompt = `You are the quoting assistant for Saturn Star Movers. Calculate accurate moving quotes using detected inventory data.\n\nCRITICAL RULES:\n1. Always respect the 3-hour minimum booking rule\n2. Time starts when crew leaves office and ends when they return\n3. Use detected cubic feet and weight from GPT-4 Vision (don't recalculate)\n4. Add travel time as separate component\n5. Apply specialty item surcharges in dollars AND extra time\n6. Provide both standard and conservative estimates\n7. TRUCK CAPACITY: 26ft truck = ~1,700 cubic feet. If total exceeds 1,700 cu ft:\n   - Multiple trucks or trips required\n   - Add extra setup/breakdown time per additional truck (+15-30 min per truck)\n   - Loading time increases significantly (multiple truck loading coordination)\n   - Travel may require multiple trips if using one truck\n\nCREW RATES:\n- 2 movers, 1 truck: $150/hr\n- 3 movers, 1 truck: $230/hr\n- 4 movers, 1 truck: $250/hr\n- 4 movers, 2 trucks: $330/hr\n- 5 movers, 2 trucks: $360/hr\n- 6 movers, 2 trucks: $400/hr\n\nSPECIALTY ITEM DETECTION (AUTO-DETECT AND FLAG):\n- Piano (upright): $150-$300 surcharge + 60-90 min extra\n- Piano (baby grand/grand): $300-$500 surcharge + 90-120 min extra\n- Safe <300lb: $100 surcharge + 30 min extra\n- Safe 300-600lb: $200-$300 surcharge + 60 min extra\n- Pool table (disassembled): $200-$400 surcharge + 90-120 min extra\n- Gym equipment: $50-$200 surcharge + 30-60 min extra\n- TV >60\": $40 surcharge (box required)\n- Appliance disconnect/reconnect: $50-$100 per unit + 30 min per unit\n- Hoisting (2nd story+): $100+ surcharge + 45 min per floor\n\nINSURANCE (ALWAYS OFFER):\n- Basic: $0 (included, $0.60/lb per item)\n- Premium: $100 (up to $2,000 coverage)\n- Deluxe: $200 (up to $5,000 coverage)\n\nCALCULATION METHOD:\n1. Sum all detected cubic feet and weight\n2. Base hours = (total_cubic_ft / 100) * efficiency_factor\n   - Efficiency: 100 cu ft per hour for 3 movers (standard)\n   - Adjust for crew size: 2 movers = 0.65x, 4 movers = 1.3x, 5+ movers = 1.5x\n3. Apply complexity multipliers:\n   - Stairs: +25% per floor, max +100%\n   - Elevator: +15% if slow/wait times expected\n   - Difficult parking: +20% per location\n   - Multiple floors: +10% per floor difference\n4. Add specialty item extra time\n5. Add buffer: Standard = 10%, Conservative = 20%\n6. Travel hours = (travel_mins / 60) * 2 (round trip)\n7. Setup/breakdown: 15 min per truck\n\nReturn ONLY valid JSON with this exact structure:\n{\n  \"hoursStandard\": number,\n  \"hoursConservative\": number,\n  \"recommendedCrew\": 2|3|4|5|6,\n  \"crewRate\": number,\n  \"specialtyItems\": [{\"item\": \"string\", \"category\": \"string\", \"surcharge\": number, \"extraTime\": number, \"detected\": true}],\n  \"baseTotal\": number,\n  \"surchargesTotal\": number,\n  \"totalBeforeTax\": number,\n  \"totalAfterTax\": number,\n  \"reasoning\": \"string\",\n  \"breakdown\": {\n    \"loadingHours\": number,\n    \"travelHours\": number,\n    \"unloadingHours\": number,\n    \"setupHours\": number,\n    \"bufferHours\": number\n  },\n  \"detectedUpsells\": [{\"id\": \"string\", \"name\": \"string\", \"price\": number, \"reason\": \"string\", \"required\": boolean}]\n}`;\n\n    // Calculate total cubic feet and weight from detections\n    const totalCubicFeet = data.detections.reduce((sum, d) => {\n      if (d.cubicFeet) return sum + d.cubicFeet * d.qty;\n      return sum;\n    }, 0);\n    const totalWeight = data.detections.reduce((sum, d) => {\n      if (d.weight) return sum + d.weight * d.qty;\n      return sum;\n    }, 0);\n    const userPrompt = `Calculate accurate move time for Saturn Star Movers:\n\nINVENTORY (with detected cubic feet and weight):\n${data.detections.map(d => {\n      const cuft = d.cubicFeet ? `${(d.cubicFeet * d.qty).toFixed(1)} cu ft` : 'estimated';\n      const weight = d.weight ? `${(d.weight * d.qty).toFixed(0)} lbs` : 'estimated';\n      return `- ${d.qty}x ${d.label}${d.size ? ` (${d.size})` : ''}${d.room ? ` [${d.room}]` : ''} → ${cuft}, ${weight}`;\n    }).join('\\n')}\n\nTOTALS:\n- Total Cubic Feet: ${totalCubicFeet.toFixed(1)} ${totalCubicFeet > 1700 ? `⚠️ EXCEEDS 26FT TRUCK CAPACITY - Multiple trucks/trips required` : ''}\n- Total Weight: ${totalWeight.toFixed(0)} lbs\n- Distance: ${data.distance.toFixed(1)} miles\n- Travel Time: ${data.travelTime} minutes\n- Estimated Trucks Needed: ${totalCubicFeet > 1700 ? Math.ceil(totalCubicFeet / 1700) : 1}\n\nLOCATIONS:\n- Origin: ${data.originType}${data.stairsOrigin ? ', HAS STAIRS' : ''}${data.elevatorOrigin ? ', HAS ELEVATOR' : ''}${data.floorOrigin ? `, Floor ${data.floorOrigin}` : ''}, Parking: ${data.parkingOrigin}\n- Destination: ${data.destinationType}${data.stairsDestination ? ', HAS STAIRS' : ''}${data.elevatorDestination ? ', HAS ELEVATOR' : ''}${data.floorDestination ? `, Floor ${data.floorDestination}` : ''}, Parking: ${data.parkingDestination}\n\nREQUIREMENTS:\n1. AUTO-DETECT specialty items in inventory (pianos, safes, pool tables, large TVs >60\", gym equipment, appliances needing disconnect)\n2. Apply appropriate surcharges and extra time\n3. Recommend crew size based on volume and complexity\n4. Provide both standard (10% buffer) and conservative (20% buffer) estimates\n5. Generate upsell recommendations:\n   - TV boxes for TVs >60\" (REQUIRED, auto-select)\n   - Fragile packing for art/pictures (if detected)\n   - Appliance disconnect if appliances detected (REQUIRED if needed)\n   - Insurance tiers (always offer all 3)\n6. Minimum 3 hours applies\n\nProvide a professional, accurate estimate.`;\n    try {\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${this.API_KEY}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: this.GPT_MODEL,\n          messages: [{\n            role: 'system',\n            content: systemPrompt\n          }, {\n            role: 'user',\n            content: userPrompt\n          }],\n          response_format: {\n            type: 'json_object'\n          },\n          temperature: 0.2 // Low for consistency\n        })\n      });\n      if (!response.ok) {\n        var _errorData$error;\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`OpenAI API error: ${((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || response.statusText}`);\n      }\n      const result = await response.json();\n      const content = result.choices[0].message.content;\n      const moveTime = JSON.parse(content);\n\n      // Validate and enforce minimum 3 hours\n      moveTime.hoursStandard = Math.max(3, moveTime.hoursStandard);\n      moveTime.hoursConservative = Math.max(3, moveTime.hoursConservative);\n      return moveTime;\n    } catch (error) {\n      console.error('Saturn GPT Move Time Calculation Error:', error);\n      throw new Error(`Failed to calculate move time: ${error.message}`);\n    }\n  }\n\n  // Helper to estimate weight from cubic feet (rule of thumb: 7 lbs per cubic foot for household goods)\n  static estimateWeight(cubicFeet) {\n    return cubicFeet * 7;\n  }\n}\nSaturnGPTService.API_KEY = process.env.REACT_APP_OPENAI_API_KEY;\nSaturnGPTService.GPT_MODEL = process.env.REACT_APP_GPT_MODEL || 'gpt-4-turbo-preview';\n// Saturn Star Movers crew rates\nSaturnGPTService.CREW_RATES = {\n  2: 150,\n  3: 230,\n  4: 250,\n  5: 360,\n  6: 400\n};","map":{"version":3,"names":["SaturnGPTService","calculateMoveTime","data","API_KEY","Error","systemPrompt","totalCubicFeet","detections","reduce","sum","d","cubicFeet","qty","totalWeight","weight","userPrompt","map","cuft","toFixed","label","size","room","join","distance","travelTime","Math","ceil","originType","stairsOrigin","elevatorOrigin","floorOrigin","parkingOrigin","destinationType","stairsDestination","elevatorDestination","floorDestination","parkingDestination","response","fetch","method","headers","body","JSON","stringify","model","GPT_MODEL","messages","role","content","response_format","type","temperature","ok","_errorData$error","errorData","json","catch","error","message","statusText","result","choices","moveTime","parse","hoursStandard","max","hoursConservative","console","estimateWeight","process","env","REACT_APP_OPENAI_API_KEY","REACT_APP_GPT_MODEL","CREW_RATES"],"sources":["/Users/admin/random/src/lib/saturnGPTService.ts"],"sourcesContent":["/**\n * Saturn Star Movers GPT Service\n * Uses GPT to calculate accurate move time based on inventory, cubic feet, weight, and distance\n */\n\ninterface SaturnMoveTimeRequest {\n  detections: Array<{\n    label: string;\n    qty: number;\n    cubicFeet?: number;\n    weight?: number;\n    size?: string;\n    room?: string;\n  }>;\n  distance: number; // miles\n  travelTime: number; // minutes\n  originType: 'house' | 'apartment' | 'condo' | 'business';\n  destinationType: 'house' | 'apartment' | 'condo' | 'business';\n  stairsOrigin: boolean;\n  stairsDestination: boolean;\n  elevatorOrigin: boolean;\n  elevatorDestination: boolean;\n  floorOrigin?: number;\n  floorDestination?: number;\n  parkingOrigin: 'driveway' | 'street' | 'parking_lot' | 'difficult';\n  parkingDestination: 'driveway' | 'street' | 'parking_lot' | 'difficult';\n}\n\nexport interface SpecialtyItem {\n  item: string;\n  category: 'piano' | 'safe' | 'pool_table' | 'gym' | 'tv_large' | 'appliance' | 'hoisting';\n  surcharge: number;\n  extraTime: number; // extra minutes\n  detected: boolean;\n}\n\nexport interface SaturnMoveTimeResponse {\n  hoursStandard: number;\n  hoursConservative: number;\n  recommendedCrew: 2 | 3 | 4 | 5 | 6;\n  crewRate: number; // hourly rate for the crew\n  specialtyItems: SpecialtyItem[];\n  baseTotal: number; // Before surcharges\n  surchargesTotal: number;\n  totalBeforeTax: number;\n  totalAfterTax: number; // Assuming 13% HST\n  reasoning: string;\n  breakdown: {\n    loadingHours: number;\n    travelHours: number;\n    unloadingHours: number;\n    setupHours: number;\n    bufferHours: number;\n  };\n  detectedUpsells: Array<{\n    id: string;\n    name: string;\n    price: number;\n    reason: string;\n    required: boolean; // Auto-select if required\n  }>;\n}\n\nexport class SaturnGPTService {\n  private static readonly API_KEY = process.env.REACT_APP_OPENAI_API_KEY;\n  private static readonly GPT_MODEL = process.env.REACT_APP_GPT_MODEL || 'gpt-4-turbo-preview';\n\n  // Saturn Star Movers crew rates\n  private static readonly CREW_RATES = {\n    2: 150,\n    3: 230,\n    4: 250,\n    5: 360,\n    6: 400\n  };\n\n  static async calculateMoveTime(data: SaturnMoveTimeRequest): Promise<SaturnMoveTimeResponse> {\n    if (!this.API_KEY) {\n      throw new Error('OpenAI API key not configured. Please add REACT_APP_OPENAI_API_KEY to your .env file');\n    }\n\n    const systemPrompt = `You are the quoting assistant for Saturn Star Movers. Calculate accurate moving quotes using detected inventory data.\n\nCRITICAL RULES:\n1. Always respect the 3-hour minimum booking rule\n2. Time starts when crew leaves office and ends when they return\n3. Use detected cubic feet and weight from GPT-4 Vision (don't recalculate)\n4. Add travel time as separate component\n5. Apply specialty item surcharges in dollars AND extra time\n6. Provide both standard and conservative estimates\n7. TRUCK CAPACITY: 26ft truck = ~1,700 cubic feet. If total exceeds 1,700 cu ft:\n   - Multiple trucks or trips required\n   - Add extra setup/breakdown time per additional truck (+15-30 min per truck)\n   - Loading time increases significantly (multiple truck loading coordination)\n   - Travel may require multiple trips if using one truck\n\nCREW RATES:\n- 2 movers, 1 truck: $150/hr\n- 3 movers, 1 truck: $230/hr\n- 4 movers, 1 truck: $250/hr\n- 4 movers, 2 trucks: $330/hr\n- 5 movers, 2 trucks: $360/hr\n- 6 movers, 2 trucks: $400/hr\n\nSPECIALTY ITEM DETECTION (AUTO-DETECT AND FLAG):\n- Piano (upright): $150-$300 surcharge + 60-90 min extra\n- Piano (baby grand/grand): $300-$500 surcharge + 90-120 min extra\n- Safe <300lb: $100 surcharge + 30 min extra\n- Safe 300-600lb: $200-$300 surcharge + 60 min extra\n- Pool table (disassembled): $200-$400 surcharge + 90-120 min extra\n- Gym equipment: $50-$200 surcharge + 30-60 min extra\n- TV >60\": $40 surcharge (box required)\n- Appliance disconnect/reconnect: $50-$100 per unit + 30 min per unit\n- Hoisting (2nd story+): $100+ surcharge + 45 min per floor\n\nINSURANCE (ALWAYS OFFER):\n- Basic: $0 (included, $0.60/lb per item)\n- Premium: $100 (up to $2,000 coverage)\n- Deluxe: $200 (up to $5,000 coverage)\n\nCALCULATION METHOD:\n1. Sum all detected cubic feet and weight\n2. Base hours = (total_cubic_ft / 100) * efficiency_factor\n   - Efficiency: 100 cu ft per hour for 3 movers (standard)\n   - Adjust for crew size: 2 movers = 0.65x, 4 movers = 1.3x, 5+ movers = 1.5x\n3. Apply complexity multipliers:\n   - Stairs: +25% per floor, max +100%\n   - Elevator: +15% if slow/wait times expected\n   - Difficult parking: +20% per location\n   - Multiple floors: +10% per floor difference\n4. Add specialty item extra time\n5. Add buffer: Standard = 10%, Conservative = 20%\n6. Travel hours = (travel_mins / 60) * 2 (round trip)\n7. Setup/breakdown: 15 min per truck\n\nReturn ONLY valid JSON with this exact structure:\n{\n  \"hoursStandard\": number,\n  \"hoursConservative\": number,\n  \"recommendedCrew\": 2|3|4|5|6,\n  \"crewRate\": number,\n  \"specialtyItems\": [{\"item\": \"string\", \"category\": \"string\", \"surcharge\": number, \"extraTime\": number, \"detected\": true}],\n  \"baseTotal\": number,\n  \"surchargesTotal\": number,\n  \"totalBeforeTax\": number,\n  \"totalAfterTax\": number,\n  \"reasoning\": \"string\",\n  \"breakdown\": {\n    \"loadingHours\": number,\n    \"travelHours\": number,\n    \"unloadingHours\": number,\n    \"setupHours\": number,\n    \"bufferHours\": number\n  },\n  \"detectedUpsells\": [{\"id\": \"string\", \"name\": \"string\", \"price\": number, \"reason\": \"string\", \"required\": boolean}]\n}`;\n\n    // Calculate total cubic feet and weight from detections\n    const totalCubicFeet = data.detections.reduce((sum, d) => {\n      if (d.cubicFeet) return sum + (d.cubicFeet * d.qty);\n      return sum;\n    }, 0);\n\n    const totalWeight = data.detections.reduce((sum, d) => {\n      if (d.weight) return sum + (d.weight * d.qty);\n      return sum;\n    }, 0);\n\n    const userPrompt = `Calculate accurate move time for Saturn Star Movers:\n\nINVENTORY (with detected cubic feet and weight):\n${data.detections.map(d => {\n  const cuft = d.cubicFeet ? `${(d.cubicFeet * d.qty).toFixed(1)} cu ft` : 'estimated';\n  const weight = d.weight ? `${(d.weight * d.qty).toFixed(0)} lbs` : 'estimated';\n  return `- ${d.qty}x ${d.label}${d.size ? ` (${d.size})` : ''}${d.room ? ` [${d.room}]` : ''} → ${cuft}, ${weight}`;\n}).join('\\n')}\n\nTOTALS:\n- Total Cubic Feet: ${totalCubicFeet.toFixed(1)} ${totalCubicFeet > 1700 ? `⚠️ EXCEEDS 26FT TRUCK CAPACITY - Multiple trucks/trips required` : ''}\n- Total Weight: ${totalWeight.toFixed(0)} lbs\n- Distance: ${data.distance.toFixed(1)} miles\n- Travel Time: ${data.travelTime} minutes\n- Estimated Trucks Needed: ${totalCubicFeet > 1700 ? Math.ceil(totalCubicFeet / 1700) : 1}\n\nLOCATIONS:\n- Origin: ${data.originType}${data.stairsOrigin ? ', HAS STAIRS' : ''}${data.elevatorOrigin ? ', HAS ELEVATOR' : ''}${data.floorOrigin ? `, Floor ${data.floorOrigin}` : ''}, Parking: ${data.parkingOrigin}\n- Destination: ${data.destinationType}${data.stairsDestination ? ', HAS STAIRS' : ''}${data.elevatorDestination ? ', HAS ELEVATOR' : ''}${data.floorDestination ? `, Floor ${data.floorDestination}` : ''}, Parking: ${data.parkingDestination}\n\nREQUIREMENTS:\n1. AUTO-DETECT specialty items in inventory (pianos, safes, pool tables, large TVs >60\", gym equipment, appliances needing disconnect)\n2. Apply appropriate surcharges and extra time\n3. Recommend crew size based on volume and complexity\n4. Provide both standard (10% buffer) and conservative (20% buffer) estimates\n5. Generate upsell recommendations:\n   - TV boxes for TVs >60\" (REQUIRED, auto-select)\n   - Fragile packing for art/pictures (if detected)\n   - Appliance disconnect if appliances detected (REQUIRED if needed)\n   - Insurance tiers (always offer all 3)\n6. Minimum 3 hours applies\n\nProvide a professional, accurate estimate.`;\n\n    try {\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${this.API_KEY}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: this.GPT_MODEL,\n          messages: [\n            { role: 'system', content: systemPrompt },\n            { role: 'user', content: userPrompt }\n          ],\n          response_format: { type: 'json_object' },\n          temperature: 0.2 // Low for consistency\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`OpenAI API error: ${errorData.error?.message || response.statusText}`);\n      }\n\n      const result = await response.json();\n      const content = result.choices[0].message.content;\n      const moveTime = JSON.parse(content) as SaturnMoveTimeResponse;\n\n      // Validate and enforce minimum 3 hours\n      moveTime.hoursStandard = Math.max(3, moveTime.hoursStandard);\n      moveTime.hoursConservative = Math.max(3, moveTime.hoursConservative);\n\n      return moveTime;\n    } catch (error: any) {\n      console.error('Saturn GPT Move Time Calculation Error:', error);\n      throw new Error(`Failed to calculate move time: ${error.message}`);\n    }\n  }\n\n  // Helper to estimate weight from cubic feet (rule of thumb: 7 lbs per cubic foot for household goods)\n  static estimateWeight(cubicFeet: number): number {\n    return cubicFeet * 7;\n  }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}