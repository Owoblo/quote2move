{"ast":null,"code":"/**\n * Google Maps Distance Matrix API Service\n * Calculates real distance and travel time between two addresses\n * \n * Setup:\n * 1. Get API key from: https://console.cloud.google.com/google/maps-apis\n * 2. Enable \"Distance Matrix API\" in Google Cloud Console\n * 3. Add to .env: REACT_APP_GOOGLE_MAPS_API_KEY=your_key_here\n */\n\nexport class GoogleMapsService {\n  static async getDistance(origin, destination) {\n    if (!this.API_KEY) {\n      throw new Error('Google Maps API key not configured. Please add REACT_APP_GOOGLE_MAPS_API_KEY to your .env file');\n    }\n    if (!origin || !destination) {\n      throw new Error('Origin and destination addresses are required');\n    }\n    try {\n      var _data$rows$;\n      const params = new URLSearchParams({\n        origins: origin,\n        destinations: destination,\n        units: 'imperial',\n        // Get results in miles/feet\n        key: this.API_KEY\n      });\n      const response = await fetch(`${this.API_URL}?${params.toString()}`);\n      if (!response.ok) {\n        throw new Error(`Google Maps API error: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.status === 'REQUEST_DENIED') {\n        throw new Error(`Google Maps API error: ${data.error_message || 'API key invalid or missing'}`);\n      }\n      if (data.status !== 'OK') {\n        throw new Error(`Google Maps API error: ${data.status}`);\n      }\n      const element = (_data$rows$ = data.rows[0]) === null || _data$rows$ === void 0 ? void 0 : _data$rows$.elements[0];\n      if (!element || element.status !== 'OK') {\n        throw new Error(`Could not calculate distance: ${(element === null || element === void 0 ? void 0 : element.status) || 'Unknown error'}`);\n      }\n\n      // Convert meters to miles\n      const distanceMiles = element.distance.value / 1609.34;\n      // Convert seconds to minutes\n      const durationMinutes = Math.ceil(element.duration.value / 60);\n      return {\n        distance: distanceMiles,\n        duration: durationMinutes,\n        distanceText: element.distance.text,\n        durationText: element.duration.text\n      };\n    } catch (error) {\n      console.error('Google Maps API error:', error);\n      throw error;\n    }\n  }\n\n  // Fallback: Simple estimation when API is not available\n  static estimateDistance(origin, destination) {\n    // Very rough estimation - this is not accurate\n    // Returns a placeholder that the user can manually adjust\n    return 0;\n  }\n}\nGoogleMapsService.API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\nGoogleMapsService.API_URL = 'https://maps.googleapis.com/maps/api/distancematrix/json';","map":{"version":3,"names":["GoogleMapsService","getDistance","origin","destination","API_KEY","Error","_data$rows$","params","URLSearchParams","origins","destinations","units","key","response","fetch","API_URL","toString","ok","status","data","json","error_message","element","rows","elements","distanceMiles","distance","value","durationMinutes","Math","ceil","duration","distanceText","text","durationText","error","console","estimateDistance","process","env","REACT_APP_GOOGLE_MAPS_API_KEY"],"sources":["/Users/admin/random/src/lib/googleMapsService.ts"],"sourcesContent":["/**\n * Google Maps Distance Matrix API Service\n * Calculates real distance and travel time between two addresses\n * \n * Setup:\n * 1. Get API key from: https://console.cloud.google.com/google/maps-apis\n * 2. Enable \"Distance Matrix API\" in Google Cloud Console\n * 3. Add to .env: REACT_APP_GOOGLE_MAPS_API_KEY=your_key_here\n */\n\ninterface DistanceResult {\n  distance: number; // in miles\n  duration: number; // in minutes\n  distanceText: string; // formatted (e.g., \"125 mi\")\n  durationText: string; // formatted (e.g., \"2h 15min\")\n}\n\nexport class GoogleMapsService {\n  private static readonly API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n  private static readonly API_URL = 'https://maps.googleapis.com/maps/api/distancematrix/json';\n\n  static async getDistance(\n    origin: string,\n    destination: string\n  ): Promise<DistanceResult> {\n    if (!this.API_KEY) {\n      throw new Error('Google Maps API key not configured. Please add REACT_APP_GOOGLE_MAPS_API_KEY to your .env file');\n    }\n\n    if (!origin || !destination) {\n      throw new Error('Origin and destination addresses are required');\n    }\n\n    try {\n      const params = new URLSearchParams({\n        origins: origin,\n        destinations: destination,\n        units: 'imperial', // Get results in miles/feet\n        key: this.API_KEY\n      });\n\n      const response = await fetch(`${this.API_URL}?${params.toString()}`);\n      \n      if (!response.ok) {\n        throw new Error(`Google Maps API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.status === 'REQUEST_DENIED') {\n        throw new Error(`Google Maps API error: ${data.error_message || 'API key invalid or missing'}`);\n      }\n\n      if (data.status !== 'OK') {\n        throw new Error(`Google Maps API error: ${data.status}`);\n      }\n\n      const element = data.rows[0]?.elements[0];\n\n      if (!element || element.status !== 'OK') {\n        throw new Error(`Could not calculate distance: ${element?.status || 'Unknown error'}`);\n      }\n\n      // Convert meters to miles\n      const distanceMiles = element.distance.value / 1609.34;\n      // Convert seconds to minutes\n      const durationMinutes = Math.ceil(element.duration.value / 60);\n\n      return {\n        distance: distanceMiles,\n        duration: durationMinutes,\n        distanceText: element.distance.text,\n        durationText: element.duration.text\n      };\n    } catch (error: any) {\n      console.error('Google Maps API error:', error);\n      throw error;\n    }\n  }\n\n  // Fallback: Simple estimation when API is not available\n  static estimateDistance(origin: string, destination: string): number {\n    // Very rough estimation - this is not accurate\n    // Returns a placeholder that the user can manually adjust\n    return 0;\n  }\n}\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AASA,OAAO,MAAMA,iBAAiB,CAAC;EAI7B,aAAaC,WAAWA,CACtBC,MAAc,EACdC,WAAmB,EACM;IACzB,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;MACjB,MAAM,IAAIC,KAAK,CAAC,gGAAgG,CAAC;IACnH;IAEA,IAAI,CAACH,MAAM,IAAI,CAACC,WAAW,EAAE;MAC3B,MAAM,IAAIE,KAAK,CAAC,+CAA+C,CAAC;IAClE;IAEA,IAAI;MAAA,IAAAC,WAAA;MACF,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC;QACjCC,OAAO,EAAEP,MAAM;QACfQ,YAAY,EAAEP,WAAW;QACzBQ,KAAK,EAAE,UAAU;QAAE;QACnBC,GAAG,EAAE,IAAI,CAACR;MACZ,CAAC,CAAC;MAEF,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAG,IAAI,CAACC,OAAO,IAAIR,MAAM,CAACS,QAAQ,CAAC,CAAC,EAAE,CAAC;MAEpE,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIZ,KAAK,CAAC,0BAA0BQ,QAAQ,CAACK,MAAM,EAAE,CAAC;MAC9D;MAEA,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;MAElC,IAAID,IAAI,CAACD,MAAM,KAAK,gBAAgB,EAAE;QACpC,MAAM,IAAIb,KAAK,CAAC,0BAA0Bc,IAAI,CAACE,aAAa,IAAI,4BAA4B,EAAE,CAAC;MACjG;MAEA,IAAIF,IAAI,CAACD,MAAM,KAAK,IAAI,EAAE;QACxB,MAAM,IAAIb,KAAK,CAAC,0BAA0Bc,IAAI,CAACD,MAAM,EAAE,CAAC;MAC1D;MAEA,MAAMI,OAAO,IAAAhB,WAAA,GAAGa,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,cAAAjB,WAAA,uBAAZA,WAAA,CAAckB,QAAQ,CAAC,CAAC,CAAC;MAEzC,IAAI,CAACF,OAAO,IAAIA,OAAO,CAACJ,MAAM,KAAK,IAAI,EAAE;QACvC,MAAM,IAAIb,KAAK,CAAC,iCAAiC,CAAAiB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEJ,MAAM,KAAI,eAAe,EAAE,CAAC;MACxF;;MAEA;MACA,MAAMO,aAAa,GAAGH,OAAO,CAACI,QAAQ,CAACC,KAAK,GAAG,OAAO;MACtD;MACA,MAAMC,eAAe,GAAGC,IAAI,CAACC,IAAI,CAACR,OAAO,CAACS,QAAQ,CAACJ,KAAK,GAAG,EAAE,CAAC;MAE9D,OAAO;QACLD,QAAQ,EAAED,aAAa;QACvBM,QAAQ,EAAEH,eAAe;QACzBI,YAAY,EAAEV,OAAO,CAACI,QAAQ,CAACO,IAAI;QACnCC,YAAY,EAAEZ,OAAO,CAACS,QAAQ,CAACE;MACjC,CAAC;IACH,CAAC,CAAC,OAAOE,KAAU,EAAE;MACnBC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,OAAOE,gBAAgBA,CAACnC,MAAc,EAAEC,WAAmB,EAAU;IACnE;IACA;IACA,OAAO,CAAC;EACV;AACF;AArEaH,iBAAiB,CACJI,OAAO,GAAGkC,OAAO,CAACC,GAAG,CAACC,6BAA6B;AADhExC,iBAAiB,CAEJe,OAAO,GAAG,0DAA0D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}