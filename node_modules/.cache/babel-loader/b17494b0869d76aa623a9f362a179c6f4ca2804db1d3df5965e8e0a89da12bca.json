{"ast":null,"code":"// Real AI Detection Service - Using OpenAI GPT-4 Vision\nexport const detectWithOpenAI = async photoUrls => {\n  const detections = [];\n  for (const photoUrl of photoUrls) {\n    try {\n      console.log('Analyzing photo with OpenAI:', photoUrl);\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: 'gpt-4-vision-preview',\n          messages: [{\n            role: 'user',\n            content: [{\n              type: 'text',\n              text: `Analyze this real estate photo and identify ALL furniture items with extreme precision. \n\nCRITICAL REQUIREMENTS:\n1. Be VERY SPECIFIC with descriptions (e.g., \"Large Wooden Dresser\", \"Sectional Sofa\", \"Dining Room Table\", \"King Size Bed\")\n2. Count EXACT quantities - if you see 2 chairs, write qty: 2\n3. Include room context in descriptions (e.g., \"Master Bedroom Dresser\", \"Living Room Sofa\")\n4. Distinguish between similar items (e.g., \"Coffee Table\" vs \"Dining Table\")\n5. Include size descriptors when visible (Large, Small, Tall, Wide, etc.)\n\nReturn ONLY a valid JSON array with objects containing:\n- label: VERY SPECIFIC furniture type with descriptors (string)\n- qty: EXACT quantity visible (number)\n- confidence: confidence score 0-1 (number)\n- notes: room location and specific details (string)\n\nFOCUS ON THESE ITEMS:\n- Sofas (Sectional, Loveseat, Recliner)\n- Chairs (Dining Chairs, Office Chairs, Accent Chairs)\n- Tables (Dining Table, Coffee Table, End Table, Console Table)\n- Beds (King Bed, Queen Bed, Twin Bed, Bunk Bed)\n- Dressers (Large Dresser, Small Dresser, Chest of Drawers)\n- Cabinets (Kitchen Cabinets, Bathroom Vanity, Storage Cabinet)\n- Appliances (Refrigerator, Stove, Dishwasher, Washer, Dryer)\n- Electronics (TV, Computer Monitor, Sound System)\n- Storage (Bookshelf, Wardrobe, Closet Organizer)\n\nExample: [{\"label\":\"Large Wooden Dresser\",\"qty\":1,\"confidence\":0.95,\"notes\":\"Master bedroom, 6-drawer dresser with mirror\"}]`\n            }, {\n              type: 'image_url',\n              image_url: {\n                url: photoUrl\n              }\n            }]\n          }],\n          max_tokens: 1000\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`OpenAI API error: ${response.status}`);\n      }\n      const data = await response.json();\n      const content = data.choices[0].message.content;\n      console.log('OpenAI response:', content);\n\n      // Parse the JSON response\n      const analysis = JSON.parse(content);\n\n      // Add source photo ID to each detection\n      analysis.forEach(item => {\n        detections.push({\n          label: item.label,\n          qty: item.qty || 1,\n          confidence: item.confidence || 0.8,\n          sourcePhotoId: photoUrl,\n          notes: item.notes || `Detected by OpenAI GPT-4 Vision`\n        });\n      });\n    } catch (error) {\n      console.error('OpenAI Vision error:', error);\n      // Continue with other photos even if one fails\n    }\n  }\n  return detections;\n};\n\n// Google Vision API (Enhanced with room context and specificity)\nexport const detectWithGoogleVision = async photoUrls => {\n  const detections = [];\n  for (const photoUrl of photoUrls) {\n    try {\n      console.log('Analyzing photo with Google Vision:', photoUrl);\n      const response = await fetch(`https://vision.googleapis.com/v1/images:annotate?key=${process.env.REACT_APP_GOOGLE_VISION_API_KEY}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          requests: [{\n            image: {\n              source: {\n                imageUri: photoUrl\n              }\n            },\n            features: [{\n              type: 'LABEL_DETECTION',\n              maxResults: 50\n            }, {\n              type: 'OBJECT_LOCALIZATION',\n              maxResults: 50\n            }]\n          }]\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Google Vision API error: ${response.status}`);\n      }\n      const data = await response.json();\n\n      // Process Google Vision results with enhanced specificity\n      if (data.responses && data.responses[0]) {\n        const labels = data.responses[0].labelAnnotations || [];\n        const objects = data.responses[0].localizedObjectAnnotations || [];\n\n        // Enhanced furniture keywords with specificity\n        const furnitureKeywords = ['sofa', 'chair', 'table', 'bed', 'dresser', 'refrigerator', 'television', 'bookshelf', 'desk', 'cabinet', 'ottoman', 'couch', 'dining table', 'coffee table', 'nightstand', 'furniture', 'sectional', 'loveseat', 'recliner', 'dining chair', 'office chair', 'accent chair', 'end table', 'console table', 'king bed', 'queen bed', 'twin bed', 'bunk bed', 'large dresser', 'small dresser', 'chest of drawers', 'kitchen cabinet', 'bathroom vanity', 'storage cabinet', 'stove', 'dishwasher', 'washer', 'dryer', 'tv', 'computer monitor', 'sound system', 'bookshelf', 'wardrobe', 'closet organizer'];\n\n        // Determine room context from all labels\n        const roomContext = determineRoomContext(labels);\n\n        // Process labels for furniture detection\n        labels.forEach(label => {\n          if (furnitureKeywords.some(keyword => label.description.toLowerCase().includes(keyword))) {\n            const enhancedLabel = enhanceFurnitureLabel(label.description, roomContext);\n            detections.push({\n              label: enhancedLabel.label,\n              qty: enhancedLabel.qty,\n              confidence: label.score,\n              sourcePhotoId: photoUrl,\n              notes: enhancedLabel.notes,\n              room: roomContext,\n              size: enhancedLabel.size\n            });\n          }\n        });\n\n        // Process object localization for more precise detection\n        objects.forEach(obj => {\n          if (furnitureKeywords.some(keyword => obj.name.toLowerCase().includes(keyword))) {\n            const enhancedLabel = enhanceFurnitureLabel(obj.name, roomContext);\n            detections.push({\n              label: enhancedLabel.label,\n              qty: enhancedLabel.qty,\n              confidence: obj.score,\n              sourcePhotoId: photoUrl,\n              notes: enhancedLabel.notes,\n              room: roomContext,\n              size: enhancedLabel.size\n            });\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Google Vision API error:', error);\n    }\n  }\n  return detections;\n};\n\n// Determine room context from Google Vision labels\nconst determineRoomContext = labels => {\n  const roomKeywords = {\n    'Kitchen': ['kitchen', 'cooking', 'stove', 'refrigerator', 'dishwasher', 'sink', 'cabinet'],\n    'Bedroom': ['bedroom', 'bed', 'mattress', 'pillow', 'nightstand', 'dresser'],\n    'Living Room': ['living room', 'lounge', 'sofa', 'couch', 'television', 'tv', 'coffee table'],\n    'Dining Room': ['dining room', 'dining table', 'dining chair', 'table'],\n    'Bathroom': ['bathroom', 'toilet', 'sink', 'bathtub', 'shower', 'vanity'],\n    'Office': ['office', 'desk', 'computer', 'monitor', 'chair', 'bookshelf']\n  };\n  const labelTexts = labels.map(l => l.description.toLowerCase());\n  for (const [room, keywords] of Object.entries(roomKeywords)) {\n    if (keywords.some(keyword => labelTexts.some(label => label.includes(keyword)))) {\n      return room;\n    }\n  }\n  return 'Unknown Room';\n};\n\n// Enhanced furniture label processing with room context and specificity\nconst enhanceFurnitureLabel = (originalLabel, roomContext) => {\n  const label = originalLabel.toLowerCase();\n\n  // Determine size descriptors\n  let size = '';\n  if (label.includes('large') || label.includes('big')) {\n    size = 'Large';\n  } else if (label.includes('small') || label.includes('little')) {\n    size = 'Small';\n  } else if (label.includes('tall')) {\n    size = 'Tall';\n  } else if (label.includes('wide')) {\n    size = 'Wide';\n  }\n\n  // Create specific furniture labels\n  let specificLabel = originalLabel;\n  let qty = 1;\n  let notes = `${roomContext} furniture`;\n\n  // Sofa variations\n  if (label.includes('sofa') || label.includes('couch')) {\n    if (label.includes('sectional')) {\n      specificLabel = 'Sectional Sofa';\n    } else if (label.includes('loveseat')) {\n      specificLabel = 'Loveseat';\n    } else if (label.includes('recliner')) {\n      specificLabel = 'Recliner';\n    } else {\n      specificLabel = 'Sofa';\n    }\n  }\n\n  // Chair variations\n  else if (label.includes('chair')) {\n    if (label.includes('dining')) {\n      specificLabel = 'Dining Chair';\n    } else if (label.includes('office')) {\n      specificLabel = 'Office Chair';\n    } else if (label.includes('accent')) {\n      specificLabel = 'Accent Chair';\n    } else {\n      specificLabel = 'Chair';\n    }\n  }\n\n  // Table variations\n  else if (label.includes('table')) {\n    if (label.includes('dining')) {\n      specificLabel = 'Dining Table';\n    } else if (label.includes('coffee')) {\n      specificLabel = 'Coffee Table';\n    } else if (label.includes('end')) {\n      specificLabel = 'End Table';\n    } else if (label.includes('console')) {\n      specificLabel = 'Console Table';\n    } else {\n      specificLabel = 'Table';\n    }\n  }\n\n  // Bed variations\n  else if (label.includes('bed')) {\n    if (label.includes('king')) {\n      specificLabel = 'King Size Bed';\n    } else if (label.includes('queen')) {\n      specificLabel = 'Queen Size Bed';\n    } else if (label.includes('twin')) {\n      specificLabel = 'Twin Bed';\n    } else if (label.includes('bunk')) {\n      specificLabel = 'Bunk Bed';\n    } else {\n      specificLabel = 'Bed';\n    }\n  }\n\n  // Dresser variations\n  else if (label.includes('dresser') || label.includes('chest')) {\n    if (label.includes('large')) {\n      specificLabel = 'Large Dresser';\n    } else if (label.includes('small')) {\n      specificLabel = 'Small Dresser';\n    } else {\n      specificLabel = 'Dresser';\n    }\n  }\n\n  // Add size prefix if detected\n  if (size) {\n    specificLabel = `${size} ${specificLabel}`;\n  }\n  return {\n    label: specificLabel,\n    qty: qty,\n    notes: notes,\n    size: size\n  };\n};\n\n// Deduplicate detections based on similarity and room context\nexport const deduplicateDetections = detections => {\n  const deduplicated = [];\n  const seen = new Map();\n  detections.forEach(detection => {\n    // Create a more sophisticated key that includes room context\n    const normalizedLabel = detection.label.toLowerCase().replace(/\\b(large|small|big|little|tall|short|wide|narrow)\\b/g, '').replace(/\\s+/g, ' ').trim();\n    const key = `${normalizedLabel}-${detection.sourcePhotoId}`;\n    if (!seen.has(key)) {\n      seen.set(key, detection);\n      deduplicated.push(detection);\n    } else {\n      // Merge quantities for similar items in the same photo\n      const existing = seen.get(key);\n      existing.qty += detection.qty;\n      existing.confidence = Math.max(existing.confidence, detection.confidence);\n\n      // Update notes to include both descriptions\n      if (detection.notes && detection.notes !== existing.notes) {\n        existing.notes = `${existing.notes}; ${detection.notes}`;\n      }\n    }\n  });\n  return deduplicated;\n};\n\n// Main detection function - tries OpenAI first, falls back to Google Vision\nexport const detectFurniture = async photoUrls => {\n  console.log('Starting furniture detection for', photoUrls.length, 'photos');\n  try {\n    // Try OpenAI first (most accurate)\n    if (process.env.REACT_APP_OPENAI_API_KEY) {\n      console.log('Using OpenAI GPT-4 Vision for detection');\n      const detections = await detectWithOpenAI(photoUrls);\n      return deduplicateDetections(detections);\n    }\n\n    // Fallback to Google Vision\n    if (process.env.REACT_APP_GOOGLE_VISION_API_KEY) {\n      console.log('Using Google Vision API for detection');\n      const detections = await detectWithGoogleVision(photoUrls);\n      return deduplicateDetections(detections);\n    }\n\n    // No API keys available\n    throw new Error('No AI API keys configured');\n  } catch (error) {\n    console.error('AI detection failed:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["detectWithOpenAI","photoUrls","detections","photoUrl","console","log","response","fetch","method","headers","process","env","REACT_APP_OPENAI_API_KEY","body","JSON","stringify","model","messages","role","content","type","text","image_url","url","max_tokens","ok","Error","status","data","json","choices","message","analysis","parse","forEach","item","push","label","qty","confidence","sourcePhotoId","notes","error","detectWithGoogleVision","REACT_APP_GOOGLE_VISION_API_KEY","requests","image","source","imageUri","features","maxResults","responses","labels","labelAnnotations","objects","localizedObjectAnnotations","furnitureKeywords","roomContext","determineRoomContext","some","keyword","description","toLowerCase","includes","enhancedLabel","enhanceFurnitureLabel","score","room","size","obj","name","roomKeywords","labelTexts","map","l","keywords","Object","entries","originalLabel","specificLabel","deduplicateDetections","deduplicated","seen","Map","detection","normalizedLabel","replace","trim","key","has","set","existing","get","Math","max","detectFurniture","length"],"sources":["/Users/admin/random/src/lib/aiDetectionServices.ts"],"sourcesContent":["import { Detection } from '../types';\nimport { yoloDetectionService } from './yoloDetection';\n\n// Real AI Detection Service - Using OpenAI GPT-4 Vision\nexport const detectWithOpenAI = async (photoUrls: string[]): Promise<Detection[]> => {\n  const detections: Detection[] = [];\n  \n  for (const photoUrl of photoUrls) {\n    try {\n      console.log('Analyzing photo with OpenAI:', photoUrl);\n      \n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          model: 'gpt-4-vision-preview',\n          messages: [{\n            role: 'user',\n            content: [\n              {\n                type: 'text',\n                text: `Analyze this real estate photo and identify ALL furniture items with extreme precision. \n\nCRITICAL REQUIREMENTS:\n1. Be VERY SPECIFIC with descriptions (e.g., \"Large Wooden Dresser\", \"Sectional Sofa\", \"Dining Room Table\", \"King Size Bed\")\n2. Count EXACT quantities - if you see 2 chairs, write qty: 2\n3. Include room context in descriptions (e.g., \"Master Bedroom Dresser\", \"Living Room Sofa\")\n4. Distinguish between similar items (e.g., \"Coffee Table\" vs \"Dining Table\")\n5. Include size descriptors when visible (Large, Small, Tall, Wide, etc.)\n\nReturn ONLY a valid JSON array with objects containing:\n- label: VERY SPECIFIC furniture type with descriptors (string)\n- qty: EXACT quantity visible (number)\n- confidence: confidence score 0-1 (number)\n- notes: room location and specific details (string)\n\nFOCUS ON THESE ITEMS:\n- Sofas (Sectional, Loveseat, Recliner)\n- Chairs (Dining Chairs, Office Chairs, Accent Chairs)\n- Tables (Dining Table, Coffee Table, End Table, Console Table)\n- Beds (King Bed, Queen Bed, Twin Bed, Bunk Bed)\n- Dressers (Large Dresser, Small Dresser, Chest of Drawers)\n- Cabinets (Kitchen Cabinets, Bathroom Vanity, Storage Cabinet)\n- Appliances (Refrigerator, Stove, Dishwasher, Washer, Dryer)\n- Electronics (TV, Computer Monitor, Sound System)\n- Storage (Bookshelf, Wardrobe, Closet Organizer)\n\nExample: [{\"label\":\"Large Wooden Dresser\",\"qty\":1,\"confidence\":0.95,\"notes\":\"Master bedroom, 6-drawer dresser with mirror\"}]`\n              },\n              {\n                type: 'image_url',\n                image_url: { url: photoUrl }\n              }\n            ]\n          }],\n          max_tokens: 1000\n        })\n      });\n      \n      if (!response.ok) {\n        throw new Error(`OpenAI API error: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      const content = data.choices[0].message.content;\n      \n      console.log('OpenAI response:', content);\n      \n      // Parse the JSON response\n      const analysis = JSON.parse(content);\n      \n      // Add source photo ID to each detection\n      analysis.forEach((item: any) => {\n        detections.push({\n          label: item.label,\n          qty: item.qty || 1,\n          confidence: item.confidence || 0.8,\n          sourcePhotoId: photoUrl,\n          notes: item.notes || `Detected by OpenAI GPT-4 Vision`\n        });\n      });\n      \n    } catch (error) {\n      console.error('OpenAI Vision error:', error);\n      // Continue with other photos even if one fails\n    }\n  }\n  \n  return detections;\n};\n\n// Google Vision API (Enhanced with room context and specificity)\nexport const detectWithGoogleVision = async (photoUrls: string[]): Promise<Detection[]> => {\n  const detections: Detection[] = [];\n  \n  for (const photoUrl of photoUrls) {\n    try {\n      console.log('Analyzing photo with Google Vision:', photoUrl);\n      \n      const response = await fetch(`https://vision.googleapis.com/v1/images:annotate?key=${process.env.REACT_APP_GOOGLE_VISION_API_KEY}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          requests: [{\n            image: { source: { imageUri: photoUrl } },\n            features: [\n              { type: 'LABEL_DETECTION', maxResults: 50 },\n              { type: 'OBJECT_LOCALIZATION', maxResults: 50 }\n            ]\n          }]\n        })\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Google Vision API error: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      \n      // Process Google Vision results with enhanced specificity\n      if (data.responses && data.responses[0]) {\n        const labels = data.responses[0].labelAnnotations || [];\n        const objects = data.responses[0].localizedObjectAnnotations || [];\n        \n        // Enhanced furniture keywords with specificity\n        const furnitureKeywords = [\n          'sofa', 'chair', 'table', 'bed', 'dresser', 'refrigerator', \n          'television', 'bookshelf', 'desk', 'cabinet', 'ottoman',\n          'couch', 'dining table', 'coffee table', 'nightstand', 'furniture',\n          'sectional', 'loveseat', 'recliner', 'dining chair', 'office chair',\n          'accent chair', 'end table', 'console table', 'king bed', 'queen bed',\n          'twin bed', 'bunk bed', 'large dresser', 'small dresser', 'chest of drawers',\n          'kitchen cabinet', 'bathroom vanity', 'storage cabinet', 'stove', 'dishwasher',\n          'washer', 'dryer', 'tv', 'computer monitor', 'sound system', 'bookshelf',\n          'wardrobe', 'closet organizer'\n        ];\n        \n        // Determine room context from all labels\n        const roomContext = determineRoomContext(labels);\n        \n        // Process labels for furniture detection\n        labels.forEach((label: any) => {\n          if (furnitureKeywords.some(keyword => \n            label.description.toLowerCase().includes(keyword)\n          )) {\n            const enhancedLabel = enhanceFurnitureLabel(label.description, roomContext);\n            \n            detections.push({\n              label: enhancedLabel.label,\n              qty: enhancedLabel.qty,\n              confidence: label.score,\n              sourcePhotoId: photoUrl,\n              notes: enhancedLabel.notes,\n              room: roomContext,\n              size: enhancedLabel.size\n            });\n          }\n        });\n        \n        // Process object localization for more precise detection\n        objects.forEach((obj: any) => {\n          if (furnitureKeywords.some(keyword => \n            obj.name.toLowerCase().includes(keyword)\n          )) {\n            const enhancedLabel = enhanceFurnitureLabel(obj.name, roomContext);\n            \n            detections.push({\n              label: enhancedLabel.label,\n              qty: enhancedLabel.qty,\n              confidence: obj.score,\n              sourcePhotoId: photoUrl,\n              notes: enhancedLabel.notes,\n              room: roomContext,\n              size: enhancedLabel.size\n            });\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Google Vision API error:', error);\n    }\n  }\n  \n  return detections;\n};\n\n// Determine room context from Google Vision labels\nconst determineRoomContext = (labels: any[]): string => {\n  const roomKeywords = {\n    'Kitchen': ['kitchen', 'cooking', 'stove', 'refrigerator', 'dishwasher', 'sink', 'cabinet'],\n    'Bedroom': ['bedroom', 'bed', 'mattress', 'pillow', 'nightstand', 'dresser'],\n    'Living Room': ['living room', 'lounge', 'sofa', 'couch', 'television', 'tv', 'coffee table'],\n    'Dining Room': ['dining room', 'dining table', 'dining chair', 'table'],\n    'Bathroom': ['bathroom', 'toilet', 'sink', 'bathtub', 'shower', 'vanity'],\n    'Office': ['office', 'desk', 'computer', 'monitor', 'chair', 'bookshelf']\n  };\n  \n  const labelTexts = labels.map(l => l.description.toLowerCase());\n  \n  for (const [room, keywords] of Object.entries(roomKeywords)) {\n    if (keywords.some(keyword => \n      labelTexts.some(label => label.includes(keyword))\n    )) {\n      return room;\n    }\n  }\n  \n  return 'Unknown Room';\n};\n\n// Enhanced furniture label processing with room context and specificity\nconst enhanceFurnitureLabel = (originalLabel: string, roomContext: string): {\n  label: string;\n  qty: number;\n  notes: string;\n  size?: string;\n} => {\n  const label = originalLabel.toLowerCase();\n  \n  // Determine size descriptors\n  let size = '';\n  if (label.includes('large') || label.includes('big')) {\n    size = 'Large';\n  } else if (label.includes('small') || label.includes('little')) {\n    size = 'Small';\n  } else if (label.includes('tall')) {\n    size = 'Tall';\n  } else if (label.includes('wide')) {\n    size = 'Wide';\n  }\n  \n  // Create specific furniture labels\n  let specificLabel = originalLabel;\n  let qty = 1;\n  let notes = `${roomContext} furniture`;\n  \n  // Sofa variations\n  if (label.includes('sofa') || label.includes('couch')) {\n    if (label.includes('sectional')) {\n      specificLabel = 'Sectional Sofa';\n    } else if (label.includes('loveseat')) {\n      specificLabel = 'Loveseat';\n    } else if (label.includes('recliner')) {\n      specificLabel = 'Recliner';\n    } else {\n      specificLabel = 'Sofa';\n    }\n  }\n  \n  // Chair variations\n  else if (label.includes('chair')) {\n    if (label.includes('dining')) {\n      specificLabel = 'Dining Chair';\n    } else if (label.includes('office')) {\n      specificLabel = 'Office Chair';\n    } else if (label.includes('accent')) {\n      specificLabel = 'Accent Chair';\n    } else {\n      specificLabel = 'Chair';\n    }\n  }\n  \n  // Table variations\n  else if (label.includes('table')) {\n    if (label.includes('dining')) {\n      specificLabel = 'Dining Table';\n    } else if (label.includes('coffee')) {\n      specificLabel = 'Coffee Table';\n    } else if (label.includes('end')) {\n      specificLabel = 'End Table';\n    } else if (label.includes('console')) {\n      specificLabel = 'Console Table';\n    } else {\n      specificLabel = 'Table';\n    }\n  }\n  \n  // Bed variations\n  else if (label.includes('bed')) {\n    if (label.includes('king')) {\n      specificLabel = 'King Size Bed';\n    } else if (label.includes('queen')) {\n      specificLabel = 'Queen Size Bed';\n    } else if (label.includes('twin')) {\n      specificLabel = 'Twin Bed';\n    } else if (label.includes('bunk')) {\n      specificLabel = 'Bunk Bed';\n    } else {\n      specificLabel = 'Bed';\n    }\n  }\n  \n  // Dresser variations\n  else if (label.includes('dresser') || label.includes('chest')) {\n    if (label.includes('large')) {\n      specificLabel = 'Large Dresser';\n    } else if (label.includes('small')) {\n      specificLabel = 'Small Dresser';\n    } else {\n      specificLabel = 'Dresser';\n    }\n  }\n  \n  // Add size prefix if detected\n  if (size) {\n    specificLabel = `${size} ${specificLabel}`;\n  }\n  \n  return {\n    label: specificLabel,\n    qty: qty,\n    notes: notes,\n    size: size\n  };\n};\n\n// Deduplicate detections based on similarity and room context\nexport const deduplicateDetections = (detections: Detection[]): Detection[] => {\n  const deduplicated: Detection[] = [];\n  const seen = new Map<string, Detection>();\n  \n  detections.forEach(detection => {\n    // Create a more sophisticated key that includes room context\n    const normalizedLabel = detection.label.toLowerCase()\n      .replace(/\\b(large|small|big|little|tall|short|wide|narrow)\\b/g, '')\n      .replace(/\\s+/g, ' ')\n      .trim();\n    \n    const key = `${normalizedLabel}-${detection.sourcePhotoId}`;\n    \n    if (!seen.has(key)) {\n      seen.set(key, detection);\n      deduplicated.push(detection);\n    } else {\n      // Merge quantities for similar items in the same photo\n      const existing = seen.get(key)!;\n      existing.qty += detection.qty;\n      existing.confidence = Math.max(existing.confidence, detection.confidence);\n      \n      // Update notes to include both descriptions\n      if (detection.notes && detection.notes !== existing.notes) {\n        existing.notes = `${existing.notes}; ${detection.notes}`;\n      }\n    }\n  });\n  \n  return deduplicated;\n};\n\n// Main detection function - tries OpenAI first, falls back to Google Vision\nexport const detectFurniture = async (photoUrls: string[]): Promise<Detection[]> => {\n  console.log('Starting furniture detection for', photoUrls.length, 'photos');\n  \n  try {\n    // Try OpenAI first (most accurate)\n    if (process.env.REACT_APP_OPENAI_API_KEY) {\n      console.log('Using OpenAI GPT-4 Vision for detection');\n      const detections = await detectWithOpenAI(photoUrls);\n      return deduplicateDetections(detections);\n    }\n    \n    // Fallback to Google Vision\n    if (process.env.REACT_APP_GOOGLE_VISION_API_KEY) {\n      console.log('Using Google Vision API for detection');\n      const detections = await detectWithGoogleVision(photoUrls);\n      return deduplicateDetections(detections);\n    }\n    \n    // No API keys available\n    throw new Error('No AI API keys configured');\n    \n  } catch (error) {\n    console.error('AI detection failed:', error);\n    throw error;\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}