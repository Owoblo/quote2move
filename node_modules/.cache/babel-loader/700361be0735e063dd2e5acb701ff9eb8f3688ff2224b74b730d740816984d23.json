{"ast":null,"code":"import _objectSpread from\"/Users/admin/random/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{calculateEstimate}from'../lib/estimate';import{GoogleMapsService}from'../lib/googleMapsService';import{SimplePDFService}from'../lib/simplePDFService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EstimatePage(){const navigate=useNavigate();const location=useLocation();const state=location.state;const[customerInfo,setCustomerInfo]=useState({name:'',email:'',phone:'',moveDate:''});const[originAddress,setOriginAddress]=useState((state===null||state===void 0?void 0:state.address)||'');const[destinationAddress,setDestinationAddress]=useState('');const[detections]=useState((state===null||state===void 0?void 0:state.detections)||[]);const[mapping]=useState((state===null||state===void 0?void 0:state.mapping)||{});const[baseEstimate]=useState((state===null||state===void 0?void 0:state.estimate)||{crew:3,rate:75,travelMins:30,stairs:false,elevator:false,wrapping:false,safetyPct:10,hours:0,total:0});// Generate upsells based on detected items - auto-select items that need special care\nconst[upsells,setUpsells]=useState(()=>{var _state$estimate;const initialUpsells=[{id:'insurance',name:'Moving Insurance',description:'Protect your belongings during the move',price:((state===null||state===void 0?void 0:(_state$estimate=state.estimate)===null||_state$estimate===void 0?void 0:_state$estimate.total)||0)*0.05,// 5% of total\nrecommended:true,selected:false},{id:'packing',name:'Packing Service',description:'Professional packing of your items',price:detections.reduce((sum,d)=>sum+d.qty*25,0),// $25 per item\nrecommended:detections.length>10,selected:false},{id:'unpacking',name:'Unpacking Service',description:'We unpack and organize at your new location',price:detections.reduce((sum,d)=>sum+d.qty*15,0),// $15 per item\nrecommended:false,selected:false}];// Detect TVs - AUTO-SELECT TV boxes (they NEED special boxes)\nconst tvDetections=detections.filter(d=>d.label.toLowerCase().includes('tv')||d.label.toLowerCase().includes('television')||d.label.toLowerCase().includes('flat screen'));const tvCount=tvDetections.reduce((sum,d)=>sum+d.qty,0);if(tvCount>0){initialUpsells.push({id:'tv-boxes',name:\"TV Boxes (\".concat(tvCount,\" TV\").concat(tvCount>1?'s':'',\")\"),description:'Specialty boxes and protective wrapping - Required for safe transport',price:tvCount*35,recommended:true,selected:true// AUTO-SELECTED - TVs need boxes!\n});}// Detect fragile items (arts, pictures, mirrors) - AUTO-SELECT fragile packing\nconst fragileItems=detections.filter(d=>{const label=d.label.toLowerCase();return label.includes('mirror')||label.includes('glass')||label.includes('art')||label.includes('artwork')||label.includes('picture')||label.includes('painting')||label.includes('frame')||label.includes('lamp')||label.includes('vase')||label.includes('chandelier')||label.includes('crystal');});if(fragileItems.length>0){const fragileQty=fragileItems.reduce((sum,d)=>sum+d.qty,0);initialUpsells.push({id:'fragile-packing',name:'Fragile Item Packing',description:\"Specialized bubble wrap & packing for \".concat(fragileQty,\" delicate item\").concat(fragileQty>1?'s':''),price:fragileItems.reduce((sum,d)=>sum+d.qty*20,0),recommended:true,selected:true// AUTO-SELECTED - fragile items need protection!\n});}// Detect specialty/heavy items that need special handling - AUTO-SELECT special handling\nconst specialtyItems=detections.filter(d=>{const label=d.label.toLowerCase();return label.includes('piano')||label.includes('grand piano')||label.includes('upright piano')||label.includes('treadmill')||label.includes('exercise equipment')||label.includes('pool table')||label.includes('billiard')||label.includes('safe')||label.includes('gun safe')||label.includes('aquarium')||label.includes('fish tank')||label.includes('grandfather clock')||label.includes('antique')||label.includes('statue');});if(specialtyItems.length>0){const specialtyQty=specialtyItems.reduce((sum,d)=>sum+d.qty,0);initialUpsells.push({id:'specialty-handling',name:'Specialty Item Handling',description:\"Professional disassembly, wrapping & handling for \".concat(specialtyQty,\" specialty item\").concat(specialtyQty>1?'s':'',\" (piano, treadmill, etc.)\"),price:specialtyItems.reduce((sum,d)=>{// Higher price for complex items\nconst isPiano=d.label.toLowerCase().includes('piano');const isTreadmill=d.label.toLowerCase().includes('treadmill');const isPoolTable=d.label.toLowerCase().includes('pool')||d.label.toLowerCase().includes('billiard');if(isPiano)return sum+d.qty*150;// Pianos are complex\nif(isTreadmill)return sum+d.qty*75;if(isPoolTable)return sum+d.qty*100;return sum+d.qty*60;// Other specialty items\n},0),recommended:true,selected:true// AUTO-SELECTED - these items need special handling!\n});}// Detect large appliances that might need special care\nconst largeAppliances=detections.filter(d=>{const label=d.label.toLowerCase();return label.includes('refrigerator')||label.includes('fridge')||label.includes('freezer')||label.includes('wine cooler')||label.includes('dishwasher');});if(largeAppliances.length>0){const applianceQty=largeAppliances.reduce((sum,d)=>sum+d.qty,0);initialUpsells.push({id:'appliance-protection',name:'Appliance Protection',description:\"Protective wrapping for \".concat(applianceQty,\" large appliance\").concat(applianceQty>1?'s':''),price:largeAppliances.reduce((sum,d)=>sum+d.qty*30,0),recommended:largeAppliances.length>1,selected:largeAppliances.length>1// Auto-select if multiple appliances\n});}return initialUpsells;});const[travelDistance,setTravelDistance]=useState(0);const[travelTime,setTravelTime]=useState(0);const[isCalculatingDistance,setIsCalculatingDistance]=useState(false);const[distanceError,setDistanceError]=useState(null);const[finalEstimate,setFinalEstimate]=useState(_objectSpread({},baseEstimate));// Auto-calculate distance when both addresses are provided\nuseEffect(()=>{const calculateDistance=async()=>{if(!originAddress||!destinationAddress||destinationAddress.length<10){return;// Wait for complete addresses\n}setIsCalculatingDistance(true);setDistanceError(null);try{const distanceResult=await GoogleMapsService.getDistance(originAddress,destinationAddress);setTravelDistance(Math.round(distanceResult.distance));setTravelTime(distanceResult.duration);// Update estimate with actual travel time\nconst updatedEstimate=_objectSpread(_objectSpread({},baseEstimate),{},{travelMins:distanceResult.duration});const result=calculateEstimate(detections,mapping,updatedEstimate);setFinalEstimate(_objectSpread(_objectSpread({},updatedEstimate),{},{hours:result.hours,total:result.total}));}catch(error){console.error('Distance calculation error:',error);setDistanceError(error.message||'Could not calculate distance');// Fallback to manual entry\n}finally{setIsCalculatingDistance(false);}};// Debounce to avoid too many API calls\nconst timer=setTimeout(()=>{calculateDistance();},1000);return()=>clearTimeout(timer);},[originAddress,destinationAddress,detections,mapping,baseEstimate]);// Update estimate when manually entering distance\nuseEffect(()=>{if(travelDistance>0&&!isCalculatingDistance){// Estimate: 30 minutes per 10 miles average\nconst estimatedMins=Math.ceil(travelDistance/10*30);const updatedEstimate=_objectSpread(_objectSpread({},baseEstimate),{},{travelMins:estimatedMins});const result=calculateEstimate(detections,mapping,updatedEstimate);setFinalEstimate(_objectSpread(_objectSpread({},updatedEstimate),{},{hours:result.hours,total:result.total}));}},[travelDistance,detections,mapping,baseEstimate,isCalculatingDistance]);// Calculate final total with upsells\nconst totalUpsells=upsells.filter(u=>u.selected).reduce((sum,u)=>sum+u.price,0);const finalTotal=finalEstimate.total+totalUpsells;const handleUpsellToggle=id=>{setUpsells(prev=>prev.map(u=>u.id===id?_objectSpread(_objectSpread({},u),{},{selected:!u.selected}):u));};const handleContinue=()=>{// Navigate to final quote/confirmation page or save quote\nnavigate('/dashboard');};const handleSendQuote=()=>{if(!customerInfo.name||!customerInfo.email||!customerInfo.phone||!customerInfo.moveDate){alert('Please fill in all customer information fields');return;}if(!destinationAddress){alert('Please enter destination address');return;}// Navigate to quote preview page\nnavigate('/quote-preview',{state:{customerName:customerInfo.name,customerEmail:customerInfo.email,customerPhone:customerInfo.phone,moveDate:customerInfo.moveDate,originAddress,destinationAddress,detections,estimate:finalEstimate,upsells:upsells.filter(u=>u.selected),totalAmount:finalTotal,photos:[]}});};const handleDownloadPDF=async()=>{try{const quoteData={id:'temp-'+Date.now(),customerName:customerInfo.name,customerEmail:customerInfo.email,customerPhone:customerInfo.phone,moveDate:customerInfo.moveDate,originAddress,destinationAddress,detections,estimate:finalEstimate,upsells:upsells.filter(u=>u.selected),totalAmount:finalTotal,photos:[]};await SimplePDFService.downloadQuote(quoteData);}catch(error){console.error('Error generating PDF:',error);alert('Failed to generate PDF. Please try again.');}};// Group detections by room\nconst groupedDetections=detections.reduce((groups,detection)=>{const room=detection.room||'Unknown Room';if(!groups[room]){groups[room]=[];}groups[room].push(detection);return groups;},{});const totalItems=detections.reduce((sum,d)=>sum+d.qty,0);const totalCubicFeet=detections.reduce((sum,detection)=>{const mappingItem=mapping[detection.label];return sum+(mappingItem?mappingItem.cf*detection.qty:0);},0);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between h-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"text-gray-600 hover:text-gray-900\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:\"Complete Your Quote\"})]})})})}),/*#__PURE__*/_jsx(\"main\",{className:\"max-w-7xl mx-auto px-6 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDC64 Customer Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customerInfo.name,onChange:e=>setCustomerInfo(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"John Doe\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:customerInfo.email,onChange:e=>setCustomerInfo(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"john@example.com\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:customerInfo.phone,onChange:e=>setCustomerInfo(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"(555) 123-4567\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Move Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:customerInfo.moveDate,onChange:e=>setCustomerInfo(prev=>_objectSpread(_objectSpread({},prev),{},{moveDate:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",min:new Date().toISOString().split('T')[0],required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCCD Origin & Destination\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Origin Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:originAddress,onChange:e=>setOriginAddress(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"123 Main St, City, State\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Destination Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:destinationAddress,onChange:e=>setDestinationAddress(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"456 Oak Ave, City, State\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Distance (miles)\",isCalculatingDistance&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs text-blue-600 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1\"}),\"Calculating...\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:travelDistance,onChange:e=>setTravelDistance(parseInt(e.target.value)||0),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Auto-calculated or enter manually\",disabled:isCalculatingDistance}),distanceError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-600 mt-1\",children:distanceError}),travelTime>0&&!isCalculatingDistance&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:[\"\\u23F1\\uFE0F Estimated travel time: \",travelTime,\" minutes\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCE6 Detected Inventory\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[Object.keys(groupedDetections).map(roomName=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-blue-500 pl-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:[\"\\uD83C\\uDFE0 \",roomName]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:groupedDetections[roomName].map((detection,idx)=>{const mappingItem=mapping[detection.label];return/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[detection.qty,\"x \",detection.label,detection.size&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400 ml-2\",children:[\"(\",detection.size,\")\"]})]}),mappingItem&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[mappingItem.cf*detection.qty,\" cf\"]})]},idx);})})]},roomName)),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t border-gray-200 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Total Items:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:totalItems})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Total Cubic Feet:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900\",children:[totalCubicFeet.toFixed(2),\" cf\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u2728 Additional Services\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:upsells.map(upsell=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start p-4 border-2 rounded-xl cursor-pointer transition-colors \".concat(upsell.selected?'border-green-500 bg-green-50':upsell.recommended?'border-yellow-300 bg-yellow-50':'border-gray-200 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:upsell.selected,onChange:()=>handleUpsellToggle(upsell.id),className:\"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:upsell.name}),upsell.selected&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full font-medium\",children:\"\\u2713 Auto-Selected\"}),upsell.recommended&&!upsell.selected&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-yellow-200 text-yellow-800 px-2 py-0.5 rounded-full\",children:\"Recommended\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:upsell.description})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-900 ml-4\",children:[\"$\",upsell.price.toFixed(2)]})]})})]},upsell.id))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sticky top-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCB0 Quote Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Base Moving Cost:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",finalEstimate.total.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Estimated Time:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[finalEstimate.hours.toFixed(1),\" hours\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Crew Size:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[finalEstimate.crew,\" people\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Travel Time:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[finalEstimate.travelMins,\" min\"]})]})]}),totalUpsells>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Additional Services:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",totalUpsells.toFixed(2)]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t-2 border-gray-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold text-gray-900\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-blue-600\",children:[\"$\",finalTotal.toFixed(2)]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendQuote,disabled:!destinationAddress||!customerInfo.name||!customerInfo.email||!customerInfo.phone||!customerInfo.moveDate,className:\"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors disabled:cursor-not-allowed flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Quote via Email\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadPDF,disabled:!destinationAddress||!customerInfo.name||!customerInfo.email||!customerInfo.phone||!customerInfo.moveDate,className:\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors disabled:cursor-not-allowed flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Download PDF Quote\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleContinue,disabled:!destinationAddress||!customerInfo.name||!customerInfo.email||!customerInfo.phone||!customerInfo.moveDate,className:\"w-full bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors disabled:cursor-not-allowed\",children:\"Save & Continue Later\"})]})]})]})})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","calculateEstimate","GoogleMapsService","SimplePDFService","jsx","_jsx","jsxs","_jsxs","EstimatePage","navigate","location","state","customerInfo","setCustomerInfo","name","email","phone","moveDate","originAddress","setOriginAddress","address","destinationAddress","setDestinationAddress","detections","mapping","baseEstimate","estimate","crew","rate","travelMins","stairs","elevator","wrapping","safetyPct","hours","total","upsells","setUpsells","_state$estimate","initialUpsells","id","description","price","recommended","selected","reduce","sum","d","qty","length","tvDetections","filter","label","toLowerCase","includes","tvCount","push","concat","fragileItems","fragileQty","specialtyItems","specialtyQty","isPiano","isTreadmill","isPoolTable","largeAppliances","applianceQty","travelDistance","setTravelDistance","travelTime","setTravelTime","isCalculatingDistance","setIsCalculatingDistance","distanceError","setDistanceError","finalEstimate","setFinalEstimate","_objectSpread","calculateDistance","distanceResult","getDistance","Math","round","distance","duration","updatedEstimate","result","error","console","message","timer","setTimeout","clearTimeout","estimatedMins","ceil","totalUpsells","u","finalTotal","handleUpsellToggle","prev","map","handleContinue","handleSendQuote","alert","customerName","customerEmail","customerPhone","totalAmount","photos","handleDownloadPDF","quoteData","Date","now","downloadQuote","groupedDetections","groups","detection","room","totalItems","totalCubicFeet","mappingItem","cf","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","type","value","onChange","e","target","placeholder","required","min","toISOString","split","parseInt","disabled","Object","keys","roomName","idx","size","toFixed","upsell","checked"],"sources":["/Users/admin/random/src/pages/EstimatePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Detection, MappingTable, Estimate } from '../types';\nimport { calculateEstimate } from '../lib/estimate';\nimport { GoogleMapsService } from '../lib/googleMapsService';\nimport { SimplePDFService } from '../lib/simplePDFService';\n\ninterface LocationState {\n  address: string;\n  detections: Detection[];\n  estimate: Estimate;\n  mapping: MappingTable;\n}\n\ninterface Upsell {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  recommended: boolean;\n  selected: boolean;\n}\n\nexport default function EstimatePage() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const state = location.state as LocationState;\n\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    moveDate: ''\n  });\n\n  const [originAddress, setOriginAddress] = useState(state?.address || '');\n  const [destinationAddress, setDestinationAddress] = useState('');\n  const [detections] = useState<Detection[]>(state?.detections || []);\n  const [mapping] = useState<MappingTable>(state?.mapping || {});\n  const [baseEstimate] = useState<Estimate>(state?.estimate || {\n    crew: 3,\n    rate: 75,\n    travelMins: 30,\n    stairs: false,\n    elevator: false,\n    wrapping: false,\n    safetyPct: 10,\n    hours: 0,\n    total: 0\n  });\n\n  // Generate upsells based on detected items - auto-select items that need special care\n  const [upsells, setUpsells] = useState<Upsell[]>(() => {\n    const initialUpsells: Upsell[] = [\n      {\n        id: 'insurance',\n        name: 'Moving Insurance',\n        description: 'Protect your belongings during the move',\n        price: (state?.estimate?.total || 0) * 0.05, // 5% of total\n        recommended: true,\n        selected: false\n      },\n      {\n        id: 'packing',\n        name: 'Packing Service',\n        description: 'Professional packing of your items',\n        price: detections.reduce((sum, d) => sum + (d.qty * 25), 0), // $25 per item\n        recommended: detections.length > 10,\n        selected: false\n      },\n      {\n        id: 'unpacking',\n        name: 'Unpacking Service',\n        description: 'We unpack and organize at your new location',\n        price: detections.reduce((sum, d) => sum + (d.qty * 15), 0), // $15 per item\n        recommended: false,\n        selected: false\n      }\n    ];\n\n    // Detect TVs - AUTO-SELECT TV boxes (they NEED special boxes)\n    const tvDetections = detections.filter(d => \n      d.label.toLowerCase().includes('tv') || \n      d.label.toLowerCase().includes('television') ||\n      d.label.toLowerCase().includes('flat screen')\n    );\n    const tvCount = tvDetections.reduce((sum, d) => sum + d.qty, 0);\n\n    if (tvCount > 0) {\n      initialUpsells.push({\n        id: 'tv-boxes',\n        name: `TV Boxes (${tvCount} TV${tvCount > 1 ? 's' : ''})`,\n        description: 'Specialty boxes and protective wrapping - Required for safe transport',\n        price: tvCount * 35,\n        recommended: true,\n        selected: true // AUTO-SELECTED - TVs need boxes!\n      });\n    }\n\n    // Detect fragile items (arts, pictures, mirrors) - AUTO-SELECT fragile packing\n    const fragileItems = detections.filter(d => {\n      const label = d.label.toLowerCase();\n      return label.includes('mirror') ||\n        label.includes('glass') ||\n        label.includes('art') ||\n        label.includes('artwork') ||\n        label.includes('picture') ||\n        label.includes('painting') ||\n        label.includes('frame') ||\n        label.includes('lamp') ||\n        label.includes('vase') ||\n        label.includes('chandelier') ||\n        label.includes('crystal');\n    });\n\n    if (fragileItems.length > 0) {\n      const fragileQty = fragileItems.reduce((sum, d) => sum + d.qty, 0);\n      initialUpsells.push({\n        id: 'fragile-packing',\n        name: 'Fragile Item Packing',\n        description: `Specialized bubble wrap & packing for ${fragileQty} delicate item${fragileQty > 1 ? 's' : ''}`,\n        price: fragileItems.reduce((sum, d) => sum + (d.qty * 20), 0),\n        recommended: true,\n        selected: true // AUTO-SELECTED - fragile items need protection!\n      });\n    }\n\n    // Detect specialty/heavy items that need special handling - AUTO-SELECT special handling\n    const specialtyItems = detections.filter(d => {\n      const label = d.label.toLowerCase();\n      return label.includes('piano') ||\n        label.includes('grand piano') ||\n        label.includes('upright piano') ||\n        label.includes('treadmill') ||\n        label.includes('exercise equipment') ||\n        label.includes('pool table') ||\n        label.includes('billiard') ||\n        label.includes('safe') ||\n        label.includes('gun safe') ||\n        label.includes('aquarium') ||\n        label.includes('fish tank') ||\n        label.includes('grandfather clock') ||\n        label.includes('antique') ||\n        label.includes('statue');\n    });\n\n    if (specialtyItems.length > 0) {\n      const specialtyQty = specialtyItems.reduce((sum, d) => sum + d.qty, 0);\n      initialUpsells.push({\n        id: 'specialty-handling',\n        name: 'Specialty Item Handling',\n        description: `Professional disassembly, wrapping & handling for ${specialtyQty} specialty item${specialtyQty > 1 ? 's' : ''} (piano, treadmill, etc.)`,\n        price: specialtyItems.reduce((sum, d) => {\n          // Higher price for complex items\n          const isPiano = d.label.toLowerCase().includes('piano');\n          const isTreadmill = d.label.toLowerCase().includes('treadmill');\n          const isPoolTable = d.label.toLowerCase().includes('pool') || d.label.toLowerCase().includes('billiard');\n          \n          if (isPiano) return sum + (d.qty * 150); // Pianos are complex\n          if (isTreadmill) return sum + (d.qty * 75);\n          if (isPoolTable) return sum + (d.qty * 100);\n          return sum + (d.qty * 60); // Other specialty items\n        }, 0),\n        recommended: true,\n        selected: true // AUTO-SELECTED - these items need special handling!\n      });\n    }\n\n    // Detect large appliances that might need special care\n    const largeAppliances = detections.filter(d => {\n      const label = d.label.toLowerCase();\n      return label.includes('refrigerator') ||\n        label.includes('fridge') ||\n        label.includes('freezer') ||\n        label.includes('wine cooler') ||\n        label.includes('dishwasher');\n    });\n\n    if (largeAppliances.length > 0) {\n      const applianceQty = largeAppliances.reduce((sum, d) => sum + d.qty, 0);\n      initialUpsells.push({\n        id: 'appliance-protection',\n        name: 'Appliance Protection',\n        description: `Protective wrapping for ${applianceQty} large appliance${applianceQty > 1 ? 's' : ''}`,\n        price: largeAppliances.reduce((sum, d) => sum + (d.qty * 30), 0),\n        recommended: largeAppliances.length > 1,\n        selected: largeAppliances.length > 1 // Auto-select if multiple appliances\n      });\n    }\n\n    return initialUpsells;\n  });\n\n  const [travelDistance, setTravelDistance] = useState(0);\n  const [travelTime, setTravelTime] = useState(0);\n  const [isCalculatingDistance, setIsCalculatingDistance] = useState(false);\n  const [distanceError, setDistanceError] = useState<string | null>(null);\n  const [finalEstimate, setFinalEstimate] = useState<Estimate>({ ...baseEstimate });\n\n  // Auto-calculate distance when both addresses are provided\n  useEffect(() => {\n    const calculateDistance = async () => {\n      if (!originAddress || !destinationAddress || destinationAddress.length < 10) {\n        return; // Wait for complete addresses\n      }\n\n      setIsCalculatingDistance(true);\n      setDistanceError(null);\n\n      try {\n        const distanceResult = await GoogleMapsService.getDistance(\n          originAddress,\n          destinationAddress\n        );\n        \n        setTravelDistance(Math.round(distanceResult.distance));\n        setTravelTime(distanceResult.duration);\n        \n        // Update estimate with actual travel time\n        const updatedEstimate = {\n          ...baseEstimate,\n          travelMins: distanceResult.duration\n        };\n\n        const result = calculateEstimate(detections, mapping, updatedEstimate);\n        setFinalEstimate({\n          ...updatedEstimate,\n          hours: result.hours,\n          total: result.total\n        });\n      } catch (error: any) {\n        console.error('Distance calculation error:', error);\n        setDistanceError(error.message || 'Could not calculate distance');\n        // Fallback to manual entry\n      } finally {\n        setIsCalculatingDistance(false);\n      }\n    };\n\n    // Debounce to avoid too many API calls\n    const timer = setTimeout(() => {\n      calculateDistance();\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  }, [originAddress, destinationAddress, detections, mapping, baseEstimate]);\n\n  // Update estimate when manually entering distance\n  useEffect(() => {\n    if (travelDistance > 0 && !isCalculatingDistance) {\n      // Estimate: 30 minutes per 10 miles average\n      const estimatedMins = Math.ceil((travelDistance / 10) * 30);\n      \n      const updatedEstimate = {\n        ...baseEstimate,\n        travelMins: estimatedMins\n      };\n\n      const result = calculateEstimate(detections, mapping, updatedEstimate);\n      setFinalEstimate({\n        ...updatedEstimate,\n        hours: result.hours,\n        total: result.total\n      });\n    }\n  }, [travelDistance, detections, mapping, baseEstimate, isCalculatingDistance]);\n\n  // Calculate final total with upsells\n  const totalUpsells = upsells.filter(u => u.selected).reduce((sum, u) => sum + u.price, 0);\n  const finalTotal = finalEstimate.total + totalUpsells;\n\n  const handleUpsellToggle = (id: string) => {\n    setUpsells(prev => \n      prev.map(u => u.id === id ? { ...u, selected: !u.selected } : u)\n    );\n  };\n\n  const handleContinue = () => {\n    // Navigate to final quote/confirmation page or save quote\n    navigate('/dashboard');\n  };\n\n  const handleSendQuote = () => {\n    if (!customerInfo.name || !customerInfo.email || !customerInfo.phone || !customerInfo.moveDate) {\n      alert('Please fill in all customer information fields');\n      return;\n    }\n\n    if (!destinationAddress) {\n      alert('Please enter destination address');\n      return;\n    }\n\n    // Navigate to quote preview page\n    navigate('/quote-preview', {\n      state: {\n        customerName: customerInfo.name,\n        customerEmail: customerInfo.email,\n        customerPhone: customerInfo.phone,\n        moveDate: customerInfo.moveDate,\n        originAddress,\n        destinationAddress,\n        detections,\n        estimate: finalEstimate,\n        upsells: upsells.filter(u => u.selected),\n        totalAmount: finalTotal,\n        photos: []\n      }\n    });\n  };\n\n  const handleDownloadPDF = async () => {\n    try {\n      const quoteData = {\n        id: 'temp-' + Date.now(),\n        customerName: customerInfo.name,\n        customerEmail: customerInfo.email,\n        customerPhone: customerInfo.phone,\n        moveDate: customerInfo.moveDate,\n        originAddress,\n        destinationAddress,\n        detections,\n        estimate: finalEstimate,\n        upsells: upsells.filter(u => u.selected),\n        totalAmount: finalTotal,\n        photos: []\n      };\n\n      await SimplePDFService.downloadQuote(quoteData);\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      alert('Failed to generate PDF. Please try again.');\n    }\n  };\n\n  // Group detections by room\n  const groupedDetections = detections.reduce((groups, detection) => {\n    const room = detection.room || 'Unknown Room';\n    if (!groups[room]) {\n      groups[room] = [];\n    }\n    groups[room].push(detection);\n    return groups;\n  }, {} as Record<string, Detection[]>);\n\n  const totalItems = detections.reduce((sum, d) => sum + d.qty, 0);\n  const totalCubicFeet = detections.reduce((sum, detection) => {\n    const mappingItem = mapping[detection.label];\n    return sum + (mappingItem ? mappingItem.cf * detection.qty : 0);\n  }, 0);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-100\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => navigate('/dashboard')}\n                className=\"text-gray-600 hover:text-gray-900\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </button>\n              <h1 className=\"text-xl font-semibold text-gray-900\">Complete Your Quote</h1>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-6 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Left Column: Form */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Customer Information */}\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">üë§ Customer Information</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Full Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customerInfo.name}\n                    onChange={(e) => setCustomerInfo(prev => ({ ...prev, name: e.target.value }))}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"John Doe\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Email Address *\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={customerInfo.email}\n                    onChange={(e) => setCustomerInfo(prev => ({ ...prev, email: e.target.value }))}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"john@example.com\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Phone Number *\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={customerInfo.phone}\n                    onChange={(e) => setCustomerInfo(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"(555) 123-4567\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Move Date *\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={customerInfo.moveDate}\n                    onChange={(e) => setCustomerInfo(prev => ({ ...prev, moveDate: e.target.value }))}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    min={new Date().toISOString().split('T')[0]}\n                    required\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Origin & Destination */}\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">üìç Origin & Destination</h2>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Origin Address\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={originAddress}\n                    onChange={(e) => setOriginAddress(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"123 Main St, City, State\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Destination Address *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={destinationAddress}\n                    onChange={(e) => setDestinationAddress(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"456 Oak Ave, City, State\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Distance (miles)\n                    {isCalculatingDistance && (\n                      <span className=\"ml-2 text-xs text-blue-600 flex items-center\">\n                        <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1\"></div>\n                        Calculating...\n                      </span>\n                    )}\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    value={travelDistance}\n                    onChange={(e) => setTravelDistance(parseInt(e.target.value) || 0)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Auto-calculated or enter manually\"\n                    disabled={isCalculatingDistance}\n                  />\n                  {distanceError && (\n                    <p className=\"text-xs text-red-600 mt-1\">{distanceError}</p>\n                  )}\n                  {travelTime > 0 && !isCalculatingDistance && (\n                    <p className=\"text-xs text-gray-600 mt-1\">\n                      ‚è±Ô∏è Estimated travel time: {travelTime} minutes\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Inventory Summary */}\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">üì¶ Detected Inventory</h2>\n              <div className=\"space-y-4\">\n                {Object.keys(groupedDetections).map(roomName => (\n                  <div key={roomName} className=\"border-l-4 border-blue-500 pl-4\">\n                    <h3 className=\"font-medium text-gray-900 mb-2\">üè† {roomName}</h3>\n                    <div className=\"space-y-2\">\n                      {groupedDetections[roomName].map((detection, idx) => {\n                        const mappingItem = mapping[detection.label];\n                        return (\n                          <div key={idx} className=\"text-sm text-gray-600 flex items-center justify-between\">\n                            <span>\n                              {detection.qty}x {detection.label}\n                              {detection.size && <span className=\"text-gray-400 ml-2\">({detection.size})</span>}\n                            </span>\n                            {mappingItem && (\n                              <span className=\"text-gray-500\">\n                                {mappingItem.cf * detection.qty} cf\n                              </span>\n                            )}\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                ))}\n                <div className=\"pt-4 border-t border-gray-200 mt-4\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"font-medium text-gray-700\">Total Items:</span>\n                    <span className=\"text-gray-900\">{totalItems}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm mt-1\">\n                    <span className=\"font-medium text-gray-700\">Total Cubic Feet:</span>\n                    <span className=\"text-gray-900\">{totalCubicFeet.toFixed(2)} cf</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Additional Services / Upsells */}\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">‚ú® Additional Services</h2>\n              <div className=\"space-y-3\">\n                {upsells.map((upsell) => (\n                  <label\n                    key={upsell.id}\n                    className={`flex items-start p-4 border-2 rounded-xl cursor-pointer transition-colors ${\n                      upsell.selected\n                        ? 'border-green-500 bg-green-50'\n                        : upsell.recommended\n                        ? 'border-yellow-300 bg-yellow-50'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={upsell.selected}\n                      onChange={() => handleUpsellToggle(upsell.id)}\n                      className=\"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                    />\n                    <div className=\"ml-3 flex-1\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"font-medium text-gray-900\">{upsell.name}</span>\n                            {upsell.selected && (\n                              <span className=\"text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full font-medium\">\n                                ‚úì Auto-Selected\n                              </span>\n                            )}\n                            {upsell.recommended && !upsell.selected && (\n                              <span className=\"text-xs bg-yellow-200 text-yellow-800 px-2 py-0.5 rounded-full\">\n                                Recommended\n                              </span>\n                            )}\n                          </div>\n                          <p className=\"text-sm text-gray-600 mt-1\">{upsell.description}</p>\n                        </div>\n                        <span className=\"font-semibold text-gray-900 ml-4\">\n                          ${upsell.price.toFixed(2)}\n                        </span>\n                      </div>\n                    </div>\n                  </label>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Right Column: Quote Summary */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sticky top-8\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">üí∞ Quote Summary</h2>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\n                    <span>Base Moving Cost:</span>\n                    <span>${finalEstimate.total.toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\n                    <span>Estimated Time:</span>\n                    <span>{finalEstimate.hours.toFixed(1)} hours</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\n                    <span>Crew Size:</span>\n                    <span>{finalEstimate.crew} people</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm text-gray-600\">\n                    <span>Travel Time:</span>\n                    <span>{finalEstimate.travelMins} min</span>\n                  </div>\n                </div>\n\n                {totalUpsells > 0 && (\n                  <div className=\"pt-4 border-t border-gray-200\">\n                    <div className=\"flex justify-between text-sm text-gray-600 mb-2\">\n                      <span>Additional Services:</span>\n                      <span>${totalUpsells.toFixed(2)}</span>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"pt-4 border-t-2 border-gray-300\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-lg font-semibold text-gray-900\">Total:</span>\n                    <span className=\"text-2xl font-bold text-blue-600\">\n                      ${finalTotal.toFixed(2)}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 space-y-3\">\n                  <button\n                    onClick={handleSendQuote}\n                    disabled={!destinationAddress || !customerInfo.name || !customerInfo.email || !customerInfo.phone || !customerInfo.moveDate}\n                    className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                    </svg>\n                    <span>Send Quote via Email</span>\n                  </button>\n                  \n                  <button\n                    onClick={handleDownloadPDF}\n                    disabled={!destinationAddress || !customerInfo.name || !customerInfo.email || !customerInfo.phone || !customerInfo.moveDate}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>\n                    <span>Download PDF Quote</span>\n                  </button>\n                  \n                  <button\n                    onClick={handleContinue}\n                    disabled={!destinationAddress || !customerInfo.name || !customerInfo.email || !customerInfo.phone || !customerInfo.moveDate}\n                    className=\"w-full bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-xl transition-colors disabled:cursor-not-allowed\"\n                  >\n                    Save & Continue Later\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}