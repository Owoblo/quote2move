{"ast":null,"code":"/**\n * Google Maps Distance Matrix API Service\n * Calculates real distance and travel time between two addresses\n * \n * Setup:\n * 1. Get API key from: https://console.cloud.google.com/google/maps-apis\n * 2. Enable \"Distance Matrix API\" in Google Cloud Console\n * 3. Add to .env: REACT_APP_GOOGLE_MAPS_API_KEY=your_key_here\n */export class GoogleMapsService{static async getDistance(origin,destination){if(!this.API_KEY){throw new Error('Google Maps API key not configured. Please add REACT_APP_GOOGLE_MAPS_API_KEY to your .env file');}if(!origin||!destination){throw new Error('Origin and destination addresses are required');}try{var _data$rows$;const params=new URLSearchParams({origins:origin,destinations:destination,units:'imperial',// Get results in miles/feet\nkey:this.API_KEY});const response=await fetch(\"\".concat(this.API_URL,\"?\").concat(params.toString()));if(!response.ok){throw new Error(\"Google Maps API error: \".concat(response.status));}const data=await response.json();if(data.status==='REQUEST_DENIED'){throw new Error(\"Google Maps API error: \".concat(data.error_message||'API key invalid or missing'));}if(data.status!=='OK'){throw new Error(\"Google Maps API error: \".concat(data.status));}const element=(_data$rows$=data.rows[0])===null||_data$rows$===void 0?void 0:_data$rows$.elements[0];if(!element||element.status!=='OK'){throw new Error(\"Could not calculate distance: \".concat((element===null||element===void 0?void 0:element.status)||'Unknown error'));}// Convert meters to miles\nconst distanceMiles=element.distance.value/1609.34;// Convert seconds to minutes\nconst durationMinutes=Math.ceil(element.duration.value/60);return{distance:distanceMiles,duration:durationMinutes,distanceText:element.distance.text,durationText:element.duration.text};}catch(error){console.error('Google Maps API error:',error);throw error;}}// Fallback: Simple estimation when API is not available\nstatic estimateDistance(origin,destination){// Very rough estimation - this is not accurate\n// Returns a placeholder that the user can manually adjust\nreturn 0;}}GoogleMapsService.API_KEY=process.env.REACT_APP_GOOGLE_MAPS_API_KEY;GoogleMapsService.API_URL='https://maps.googleapis.com/maps/api/distancematrix/json';","map":{"version":3,"names":["GoogleMapsService","getDistance","origin","destination","API_KEY","Error","_data$rows$","params","URLSearchParams","origins","destinations","units","key","response","fetch","concat","API_URL","toString","ok","status","data","json","error_message","element","rows","elements","distanceMiles","distance","value","durationMinutes","Math","ceil","duration","distanceText","text","durationText","error","console","estimateDistance","process","env","REACT_APP_GOOGLE_MAPS_API_KEY"],"sources":["/Users/admin/random/src/lib/googleMapsService.ts"],"sourcesContent":["/**\n * Google Maps Distance Matrix API Service\n * Calculates real distance and travel time between two addresses\n * \n * Setup:\n * 1. Get API key from: https://console.cloud.google.com/google/maps-apis\n * 2. Enable \"Distance Matrix API\" in Google Cloud Console\n * 3. Add to .env: REACT_APP_GOOGLE_MAPS_API_KEY=your_key_here\n */\n\ninterface DistanceResult {\n  distance: number; // in miles\n  duration: number; // in minutes\n  distanceText: string; // formatted (e.g., \"125 mi\")\n  durationText: string; // formatted (e.g., \"2h 15min\")\n}\n\nexport class GoogleMapsService {\n  private static readonly API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n  private static readonly API_URL = 'https://maps.googleapis.com/maps/api/distancematrix/json';\n\n  static async getDistance(\n    origin: string,\n    destination: string\n  ): Promise<DistanceResult> {\n    if (!this.API_KEY) {\n      throw new Error('Google Maps API key not configured. Please add REACT_APP_GOOGLE_MAPS_API_KEY to your .env file');\n    }\n\n    if (!origin || !destination) {\n      throw new Error('Origin and destination addresses are required');\n    }\n\n    try {\n      const params = new URLSearchParams({\n        origins: origin,\n        destinations: destination,\n        units: 'imperial', // Get results in miles/feet\n        key: this.API_KEY\n      });\n\n      const response = await fetch(`${this.API_URL}?${params.toString()}`);\n      \n      if (!response.ok) {\n        throw new Error(`Google Maps API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.status === 'REQUEST_DENIED') {\n        throw new Error(`Google Maps API error: ${data.error_message || 'API key invalid or missing'}`);\n      }\n\n      if (data.status !== 'OK') {\n        throw new Error(`Google Maps API error: ${data.status}`);\n      }\n\n      const element = data.rows[0]?.elements[0];\n\n      if (!element || element.status !== 'OK') {\n        throw new Error(`Could not calculate distance: ${element?.status || 'Unknown error'}`);\n      }\n\n      // Convert meters to miles\n      const distanceMiles = element.distance.value / 1609.34;\n      // Convert seconds to minutes\n      const durationMinutes = Math.ceil(element.duration.value / 60);\n\n      return {\n        distance: distanceMiles,\n        duration: durationMinutes,\n        distanceText: element.distance.text,\n        durationText: element.duration.text\n      };\n    } catch (error: any) {\n      console.error('Google Maps API error:', error);\n      throw error;\n    }\n  }\n\n  // Fallback: Simple estimation when API is not available\n  static estimateDistance(origin: string, destination: string): number {\n    // Very rough estimation - this is not accurate\n    // Returns a placeholder that the user can manually adjust\n    return 0;\n  }\n}\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GASA,MAAO,MAAM,CAAAA,iBAAkB,CAI7B,YAAa,CAAAC,WAAWA,CACtBC,MAAc,CACdC,WAAmB,CACM,CACzB,GAAI,CAAC,IAAI,CAACC,OAAO,CAAE,CACjB,KAAM,IAAI,CAAAC,KAAK,CAAC,gGAAgG,CAAC,CACnH,CAEA,GAAI,CAACH,MAAM,EAAI,CAACC,WAAW,CAAE,CAC3B,KAAM,IAAI,CAAAE,KAAK,CAAC,+CAA+C,CAAC,CAClE,CAEA,GAAI,KAAAC,WAAA,CACF,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CACjCC,OAAO,CAAEP,MAAM,CACfQ,YAAY,CAAEP,WAAW,CACzBQ,KAAK,CAAE,UAAU,CAAE;AACnBC,GAAG,CAAE,IAAI,CAACR,OACZ,CAAC,CAAC,CAEF,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACC,OAAO,MAAAD,MAAA,CAAIR,MAAM,CAACU,QAAQ,CAAC,CAAC,CAAE,CAAC,CAEpE,GAAI,CAACJ,QAAQ,CAACK,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAb,KAAK,2BAAAU,MAAA,CAA2BF,QAAQ,CAACM,MAAM,CAAE,CAAC,CAC9D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAElC,GAAID,IAAI,CAACD,MAAM,GAAK,gBAAgB,CAAE,CACpC,KAAM,IAAI,CAAAd,KAAK,2BAAAU,MAAA,CAA2BK,IAAI,CAACE,aAAa,EAAI,4BAA4B,CAAE,CAAC,CACjG,CAEA,GAAIF,IAAI,CAACD,MAAM,GAAK,IAAI,CAAE,CACxB,KAAM,IAAI,CAAAd,KAAK,2BAAAU,MAAA,CAA2BK,IAAI,CAACD,MAAM,CAAE,CAAC,CAC1D,CAEA,KAAM,CAAAI,OAAO,EAAAjB,WAAA,CAAGc,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,UAAAlB,WAAA,iBAAZA,WAAA,CAAcmB,QAAQ,CAAC,CAAC,CAAC,CAEzC,GAAI,CAACF,OAAO,EAAIA,OAAO,CAACJ,MAAM,GAAK,IAAI,CAAE,CACvC,KAAM,IAAI,CAAAd,KAAK,kCAAAU,MAAA,CAAkC,CAAAQ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEJ,MAAM,GAAI,eAAe,CAAE,CAAC,CACxF,CAEA;AACA,KAAM,CAAAO,aAAa,CAAGH,OAAO,CAACI,QAAQ,CAACC,KAAK,CAAG,OAAO,CACtD;AACA,KAAM,CAAAC,eAAe,CAAGC,IAAI,CAACC,IAAI,CAACR,OAAO,CAACS,QAAQ,CAACJ,KAAK,CAAG,EAAE,CAAC,CAE9D,MAAO,CACLD,QAAQ,CAAED,aAAa,CACvBM,QAAQ,CAAEH,eAAe,CACzBI,YAAY,CAAEV,OAAO,CAACI,QAAQ,CAACO,IAAI,CACnCC,YAAY,CAAEZ,OAAO,CAACS,QAAQ,CAACE,IACjC,CAAC,CACH,CAAE,MAAOE,KAAU,CAAE,CACnBC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C,KAAM,CAAAA,KAAK,CACb,CACF,CAEA;AACA,MAAO,CAAAE,gBAAgBA,CAACpC,MAAc,CAAEC,WAAmB,CAAU,CACnE;AACA;AACA,MAAO,EAAC,CACV,CACF,CArEaH,iBAAiB,CACJI,OAAO,CAAGmC,OAAO,CAACC,GAAG,CAACC,6BAA6B,CADhEzC,iBAAiB,CAEJgB,OAAO,CAAG,0DAA0D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}