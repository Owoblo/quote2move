{"ast":null,"code":"/**\n * Email Service for sending quotes\n * Uses EmailJS for client-side email sending\n * \n * Setup:\n * 1. Sign up at https://www.emailjs.com/\n * 2. Create email template\n * 3. Add service ID, template ID, and public key to .env\n */export class EmailService{static async sendQuote(data){if(!this.SERVICE_ID||!this.TEMPLATE_ID||!this.PUBLIC_KEY){throw new Error('EmailJS configuration missing. Please add EMAILJS_* variables to .env');}try{// Load EmailJS dynamically\nconst emailjs=await import('@emailjs/browser');const templateParams={to_email:data.customerEmail,customer_name:data.customerName,customer_phone:data.customerPhone,move_date:data.moveDate,origin_address:data.originAddress,destination_address:data.destinationAddress,total_amount:data.totalAmount.toFixed(2),quote_id:data.quoteId,quote_url:data.quoteUrl,company_name:'Instant Quote Builder'};const result=await emailjs.send(this.SERVICE_ID,this.TEMPLATE_ID,templateParams,this.PUBLIC_KEY);console.log('Email sent successfully:',result);return true;}catch(error){console.error('Email sending failed:',error);throw error;}}// Fallback: Generate mailto link\nstatic generateMailtoLink(data){const subject=\"Moving Quote - \".concat(data.customerName);const body=\"Hi \".concat(data.customerName,\",\\n\\nThank you for choosing Instant Quote Builder for your move!\\n\\nMove Details:\\n- From: \").concat(data.originAddress,\"\\n- To: \").concat(data.destinationAddress,\"\\n- Move Date: \").concat(data.moveDate,\"\\n- Total Estimate: $\").concat(data.totalAmount.toFixed(2),\"\\n\\nView your detailed quote: \").concat(data.quoteUrl,\"\\n\\nBest regards,\\nInstant Quote Builder Team\");return\"mailto:\".concat(data.customerEmail,\"?subject=\").concat(encodeURIComponent(subject),\"&body=\").concat(encodeURIComponent(body));}}EmailService.SERVICE_ID=process.env.REACT_APP_EMAILJS_SERVICE_ID;EmailService.TEMPLATE_ID=process.env.REACT_APP_EMAILJS_TEMPLATE_ID;EmailService.PUBLIC_KEY=process.env.REACT_APP_EMAILJS_PUBLIC_KEY;","map":{"version":3,"names":["EmailService","sendQuote","data","SERVICE_ID","TEMPLATE_ID","PUBLIC_KEY","Error","emailjs","templateParams","to_email","customerEmail","customer_name","customerName","customer_phone","customerPhone","move_date","moveDate","origin_address","originAddress","destination_address","destinationAddress","total_amount","totalAmount","toFixed","quote_id","quoteId","quote_url","quoteUrl","company_name","result","send","console","log","error","generateMailtoLink","subject","concat","body","encodeURIComponent","process","env","REACT_APP_EMAILJS_SERVICE_ID","REACT_APP_EMAILJS_TEMPLATE_ID","REACT_APP_EMAILJS_PUBLIC_KEY"],"sources":["/Users/admin/random/src/lib/emailService.ts"],"sourcesContent":["/**\n * Email Service for sending quotes\n * Uses EmailJS for client-side email sending\n * \n * Setup:\n * 1. Sign up at https://www.emailjs.com/\n * 2. Create email template\n * 3. Add service ID, template ID, and public key to .env\n */\n\ninterface QuoteEmailData {\n  customerName: string;\n  customerEmail: string;\n  customerPhone: string;\n  moveDate: string;\n  originAddress: string;\n  destinationAddress: string;\n  totalAmount: number;\n  quoteId: string;\n  quoteUrl: string;\n}\n\nexport class EmailService {\n  private static readonly SERVICE_ID = process.env.REACT_APP_EMAILJS_SERVICE_ID;\n  private static readonly TEMPLATE_ID = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\n  private static readonly PUBLIC_KEY = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\n\n  static async sendQuote(data: QuoteEmailData): Promise<boolean> {\n    if (!this.SERVICE_ID || !this.TEMPLATE_ID || !this.PUBLIC_KEY) {\n      throw new Error('EmailJS configuration missing. Please add EMAILJS_* variables to .env');\n    }\n\n    try {\n      // Load EmailJS dynamically\n      const emailjs = await import('@emailjs/browser');\n      \n      const templateParams = {\n        to_email: data.customerEmail,\n        customer_name: data.customerName,\n        customer_phone: data.customerPhone,\n        move_date: data.moveDate,\n        origin_address: data.originAddress,\n        destination_address: data.destinationAddress,\n        total_amount: data.totalAmount.toFixed(2),\n        quote_id: data.quoteId,\n        quote_url: data.quoteUrl,\n        company_name: 'Instant Quote Builder'\n      };\n\n      const result = await emailjs.send(\n        this.SERVICE_ID,\n        this.TEMPLATE_ID,\n        templateParams,\n        this.PUBLIC_KEY\n      );\n\n      console.log('Email sent successfully:', result);\n      return true;\n    } catch (error) {\n      console.error('Email sending failed:', error);\n      throw error;\n    }\n  }\n\n  // Fallback: Generate mailto link\n  static generateMailtoLink(data: QuoteEmailData): string {\n    const subject = `Moving Quote - ${data.customerName}`;\n    const body = `Hi ${data.customerName},\n\nThank you for choosing Instant Quote Builder for your move!\n\nMove Details:\n- From: ${data.originAddress}\n- To: ${data.destinationAddress}\n- Move Date: ${data.moveDate}\n- Total Estimate: $${data.totalAmount.toFixed(2)}\n\nView your detailed quote: ${data.quoteUrl}\n\nBest regards,\nInstant Quote Builder Team`;\n\n    return `mailto:${data.customerEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAcA,MAAO,MAAM,CAAAA,YAAa,CAKxB,YAAa,CAAAC,SAASA,CAACC,IAAoB,CAAoB,CAC7D,GAAI,CAAC,IAAI,CAACC,UAAU,EAAI,CAAC,IAAI,CAACC,WAAW,EAAI,CAAC,IAAI,CAACC,UAAU,CAAE,CAC7D,KAAM,IAAI,CAAAC,KAAK,CAAC,uEAAuE,CAAC,CAC1F,CAEA,GAAI,CACF;AACA,KAAM,CAAAC,OAAO,CAAG,KAAM,OAAM,CAAC,kBAAkB,CAAC,CAEhD,KAAM,CAAAC,cAAc,CAAG,CACrBC,QAAQ,CAAEP,IAAI,CAACQ,aAAa,CAC5BC,aAAa,CAAET,IAAI,CAACU,YAAY,CAChCC,cAAc,CAAEX,IAAI,CAACY,aAAa,CAClCC,SAAS,CAAEb,IAAI,CAACc,QAAQ,CACxBC,cAAc,CAAEf,IAAI,CAACgB,aAAa,CAClCC,mBAAmB,CAAEjB,IAAI,CAACkB,kBAAkB,CAC5CC,YAAY,CAAEnB,IAAI,CAACoB,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,CACzCC,QAAQ,CAAEtB,IAAI,CAACuB,OAAO,CACtBC,SAAS,CAAExB,IAAI,CAACyB,QAAQ,CACxBC,YAAY,CAAE,uBAChB,CAAC,CAED,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAtB,OAAO,CAACuB,IAAI,CAC/B,IAAI,CAAC3B,UAAU,CACf,IAAI,CAACC,WAAW,CAChBI,cAAc,CACd,IAAI,CAACH,UACP,CAAC,CAED0B,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEH,MAAM,CAAC,CAC/C,MAAO,KAAI,CACb,CAAE,MAAOI,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,KAAM,CAAAA,KAAK,CACb,CACF,CAEA;AACA,MAAO,CAAAC,kBAAkBA,CAAChC,IAAoB,CAAU,CACtD,KAAM,CAAAiC,OAAO,mBAAAC,MAAA,CAAqBlC,IAAI,CAACU,YAAY,CAAE,CACrD,KAAM,CAAAyB,IAAI,OAAAD,MAAA,CAASlC,IAAI,CAACU,YAAY,gGAAAwB,MAAA,CAK9BlC,IAAI,CAACgB,aAAa,aAAAkB,MAAA,CACpBlC,IAAI,CAACkB,kBAAkB,oBAAAgB,MAAA,CAChBlC,IAAI,CAACc,QAAQ,0BAAAoB,MAAA,CACPlC,IAAI,CAACoB,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,mCAAAa,MAAA,CAEpBlC,IAAI,CAACyB,QAAQ,iDAGd,CAEvB,gBAAAS,MAAA,CAAiBlC,IAAI,CAACQ,aAAa,cAAA0B,MAAA,CAAYE,kBAAkB,CAACH,OAAO,CAAC,WAAAC,MAAA,CAASE,kBAAkB,CAACD,IAAI,CAAC,EAC7G,CACF,CA9DarC,YAAY,CACCG,UAAU,CAAGoC,OAAO,CAACC,GAAG,CAACC,4BAA4B,CADlEzC,YAAY,CAECI,WAAW,CAAGmC,OAAO,CAACC,GAAG,CAACE,6BAA6B,CAFpE1C,YAAY,CAGCK,UAAU,CAAGkC,OAAO,CAACC,GAAG,CAACG,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}