{"ast":null,"code":"export function toCSV(detections) {\n  const headers = ['Item', 'Quantity', 'Confidence', 'Notes'];\n  const rows = detections.map(detection => [detection.label, detection.qty.toString(), `${Math.round(detection.confidence * 100)}%`, detection.notes || '']);\n  return [headers, ...rows].map(row => row.map(cell => `\"${cell}\"`).join(',')).join('\\n');\n}\nexport function generatePdf(quotePayload) {\n  // Placeholder implementation - would integrate with a PDF library like jsPDF\n  return new Promise(resolve => {\n    const content = `\n      INSTANT QUOTE BUILDER\n      \n      Address: ${quotePayload.address}\n      Date: ${quotePayload.timestamp.toLocaleDateString()}\n      \n      INVENTORY:\n      ${quotePayload.detections.map(d => `• ${d.label} (${d.qty}) - ${Math.round(d.confidence * 100)}% confidence`).join('\\n')}\n      \n      ESTIMATE:\n      Crew Size: ${quotePayload.estimate.crew}\n      Hourly Rate: $${quotePayload.estimate.rate}\n      Estimated Hours: ${quotePayload.estimate.hours}\n      Total: $${quotePayload.estimate.total}\n    `;\n    const blob = new Blob([content], {\n      type: 'text/plain'\n    });\n    resolve(blob);\n  });\n}\nexport function downloadFile(content, filename, mimeType = 'text/plain') {\n  const blob = content instanceof Blob ? content : new Blob([content], {\n    type: mimeType\n  });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}","map":{"version":3,"names":["toCSV","detections","headers","rows","map","detection","label","qty","toString","Math","round","confidence","notes","row","cell","join","generatePdf","quotePayload","Promise","resolve","content","address","timestamp","toLocaleDateString","d","estimate","crew","rate","hours","total","blob","Blob","type","downloadFile","filename","mimeType","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL"],"sources":["/Users/admin/random/src/lib/export.ts"],"sourcesContent":["import { Detection, QuotePayload } from '../types';\n\nexport function toCSV(detections: Detection[]): string {\n  const headers = ['Item', 'Quantity', 'Confidence', 'Notes'];\n  const rows = detections.map(detection => [\n    detection.label,\n    detection.qty.toString(),\n    `${Math.round(detection.confidence * 100)}%`,\n    detection.notes || ''\n  ]);\n\n  return [headers, ...rows]\n    .map(row => row.map(cell => `\"${cell}\"`).join(','))\n    .join('\\n');\n}\n\nexport function generatePdf(quotePayload: QuotePayload): Promise<Blob> {\n  // Placeholder implementation - would integrate with a PDF library like jsPDF\n  return new Promise((resolve) => {\n    const content = `\n      INSTANT QUOTE BUILDER\n      \n      Address: ${quotePayload.address}\n      Date: ${quotePayload.timestamp.toLocaleDateString()}\n      \n      INVENTORY:\n      ${quotePayload.detections.map(d => \n        `• ${d.label} (${d.qty}) - ${Math.round(d.confidence * 100)}% confidence`\n      ).join('\\n')}\n      \n      ESTIMATE:\n      Crew Size: ${quotePayload.estimate.crew}\n      Hourly Rate: $${quotePayload.estimate.rate}\n      Estimated Hours: ${quotePayload.estimate.hours}\n      Total: $${quotePayload.estimate.total}\n    `;\n    \n    const blob = new Blob([content], { type: 'text/plain' });\n    resolve(blob);\n  });\n}\n\nexport function downloadFile(content: string | Blob, filename: string, mimeType: string = 'text/plain') {\n  const blob = content instanceof Blob ? content : new Blob([content], { type: mimeType });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\n"],"mappings":"AAEA,OAAO,SAASA,KAAKA,CAACC,UAAuB,EAAU;EACrD,MAAMC,OAAO,GAAG,CAAC,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO,CAAC;EAC3D,MAAMC,IAAI,GAAGF,UAAU,CAACG,GAAG,CAACC,SAAS,IAAI,CACvCA,SAAS,CAACC,KAAK,EACfD,SAAS,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAC,EACxB,GAAGC,IAAI,CAACC,KAAK,CAACL,SAAS,CAACM,UAAU,GAAG,GAAG,CAAC,GAAG,EAC5CN,SAAS,CAACO,KAAK,IAAI,EAAE,CACtB,CAAC;EAEF,OAAO,CAACV,OAAO,EAAE,GAAGC,IAAI,CAAC,CACtBC,GAAG,CAACS,GAAG,IAAIA,GAAG,CAACT,GAAG,CAACU,IAAI,IAAI,IAAIA,IAAI,GAAG,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAClDA,IAAI,CAAC,IAAI,CAAC;AACf;AAEA,OAAO,SAASC,WAAWA,CAACC,YAA0B,EAAiB;EACrE;EACA,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,OAAO,GAAG;AACpB;AACA;AACA,iBAAiBH,YAAY,CAACI,OAAO;AACrC,cAAcJ,YAAY,CAACK,SAAS,CAACC,kBAAkB,CAAC,CAAC;AACzD;AACA;AACA,QAAQN,YAAY,CAAChB,UAAU,CAACG,GAAG,CAACoB,CAAC,IAC7B,KAAKA,CAAC,CAAClB,KAAK,KAAKkB,CAAC,CAACjB,GAAG,OAAOE,IAAI,CAACC,KAAK,CAACc,CAAC,CAACb,UAAU,GAAG,GAAG,CAAC,cAC7D,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC;AAClB;AACA;AACA,mBAAmBE,YAAY,CAACQ,QAAQ,CAACC,IAAI;AAC7C,sBAAsBT,YAAY,CAACQ,QAAQ,CAACE,IAAI;AAChD,yBAAyBV,YAAY,CAACQ,QAAQ,CAACG,KAAK;AACpD,gBAAgBX,YAAY,CAACQ,QAAQ,CAACI,KAAK;AAC3C,KAAK;IAED,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACX,OAAO,CAAC,EAAE;MAAEY,IAAI,EAAE;IAAa,CAAC,CAAC;IACxDb,OAAO,CAACW,IAAI,CAAC;EACf,CAAC,CAAC;AACJ;AAEA,OAAO,SAASG,YAAYA,CAACb,OAAsB,EAAEc,QAAgB,EAAEC,QAAgB,GAAG,YAAY,EAAE;EACtG,MAAML,IAAI,GAAGV,OAAO,YAAYW,IAAI,GAAGX,OAAO,GAAG,IAAIW,IAAI,CAAC,CAACX,OAAO,CAAC,EAAE;IAAEY,IAAI,EAAEG;EAAS,CAAC,CAAC;EACxF,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACR,IAAI,CAAC;EACrC,MAAMS,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EACxCF,IAAI,CAACG,IAAI,GAAGN,GAAG;EACfG,IAAI,CAACI,QAAQ,GAAGT,QAAQ;EACxBM,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;EAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;EACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;EAC/BF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}