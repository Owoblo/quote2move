{"ast":null,"code":"import _objectSpread from\"/Users/admin/random/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import SearchPanel from'../components/SearchPanel';import PhotoGallery from'../components/PhotoGallery';import InventoryTable from'../components/InventoryTable';import ProjectHistory from'../components/ProjectHistory';import{calculateEstimate}from'../lib/estimate';import{toCSV,generatePdf,downloadFile}from'../lib/export';import{parseZillowPhotos}from'../lib/zillowPhotos';import{FurnitureDetectionService}from'../lib/furnitureDetection';import{supabase}from'../lib/supabase';import{ProjectService}from'../lib/projectService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const mockMapping={'Sofa':{cf:25,minutes:30,wrap:true},'Dining Table':{cf:15,minutes:20,wrap:true},'Refrigerator':{cf:35,minutes:45,wrap:false},'Chair':{cf:3,minutes:5,wrap:true},'Bed':{cf:20,minutes:25,wrap:true},'Dresser':{cf:12,minutes:15,wrap:true},'TV':{cf:8,minutes:10,wrap:true},'Bookshelf':{cf:10,minutes:12,wrap:false}};export default function DashboardPage(){const navigate=useNavigate();const[state,setState]=useState({address:'',photos:[],detections:[],mapping:mockMapping,estimate:{crew:3,rate:75,travelMins:30,stairs:false,elevator:false,wrapping:false,safetyPct:10,hours:0,total:0}});const[selectedPhotos,setSelectedPhotos]=useState([]);const[selectedListing,setSelectedListing]=useState(null);const[isDetecting,setIsDetecting]=useState(false);const[toasts,setToasts]=useState([]);const[showProjectHistory,setShowProjectHistory]=useState(false);const[isSaving,setIsSaving]=useState(false);const[currentProjectId,setCurrentProjectId]=useState(null);// Update estimate when detections or estimate params change\nuseEffect(()=>{if(state.detections.length>0){const result=calculateEstimate(state.detections,state.mapping,{crew:state.estimate.crew,rate:state.estimate.rate,travelMins:state.estimate.travelMins,stairs:state.estimate.stairs,elevator:state.estimate.elevator,wrapping:state.estimate.wrapping,safetyPct:state.estimate.safetyPct});setState(prev=>_objectSpread(_objectSpread({},prev),{},{estimate:_objectSpread(_objectSpread({},prev.estimate),{},{hours:result.hours,total:result.total})}));}},[state.detections,state.mapping,state.estimate.crew,state.estimate.rate,state.estimate.travelMins,state.estimate.stairs,state.estimate.elevator,state.estimate.wrapping,state.estimate.safetyPct]);const addToast=(message,type)=>{const id=Date.now().toString();setToasts(prev=>[...prev,{id,message,type}]);setTimeout(()=>{setToasts(prev=>prev.filter(toast=>toast.id!==id));},3000);};const handleAddressChange=address=>{setState(prev=>_objectSpread(_objectSpread({},prev),{},{address}));};const handleListingSelect=listing=>{setSelectedListing(listing);};const handleFetchPhotos=async()=>{if(!selectedListing){addToast('Please select a listing from the autocomplete first','error');return;}try{console.log('Fetching photos for selected listing:',selectedListing.address);console.log('Has carousel_photos_composable:',!!selectedListing.carousel_photos_composable);// Check if the listing has carousel_photos_composable data\nif(selectedListing.carousel_photos_composable){try{// Use the utility function to parse Zillow photos\nconst photoUrls=parseZillowPhotos(selectedListing.carousel_photos_composable);console.log('Parsed photo URLs:',photoUrls.length);if(photoUrls.length>0){// Convert URLs to Photo format\nconst photos=photoUrls.map((url,index)=>({id:\"photo-\".concat(index),url:url,thumbnailUrl:url,// Zillow URLs are already optimized\nfilename:\"property-photo-\".concat(index+1,\".jpg\"),uploadedAt:new Date()}));setState(prev=>_objectSpread(_objectSpread({},prev),{},{photos}));addToast(\"Found \".concat(photos.length,\" photos - Starting AI detection...\"),'success');// Automatically select all photos and start detection\nconst allPhotoIds=photos.map(photo=>photo.id);setSelectedPhotos(allPhotoIds);// Start AI detection automatically\nawait runAutomaticDetection(photos);}else{// No photos found\nsetState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('No photos found for this listing','error');}}catch(error){console.error('Error parsing carousel_photos_composable:',error);// No fallback - show error\nsetState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('Error parsing carousel data','error');}}else{// No carousel_photos_composable data - try to fetch from database\nconsole.log('No carousel data in selected listing, searching database...');await fetchPhotosFromDatabase(selectedListing.address);}}catch(error){console.error('Error fetching photos:',error);// No fallback - show error\nsetState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('Error fetching photos','error');}};const fetchPhotosFromDatabase=async address=>{try{var _currentListings$data2,_soldListings$data2,_currentListings$data3,_soldListings$data3;console.log('ðŸ” Searching database for photos:',address);// Optimized search strategy for 40,000+ records\nconst addressParts=address.split(' ');const houseNumber=addressParts[0];const streetName=addressParts.slice(1,3).join(' ');// First 2 words after house number\n// Prioritize more specific searches first to reduce database load\nconst searchTerms=[\"\".concat(houseNumber,\" \").concat(streetName),// Most specific: house + street\naddress.split(',')[0],// Street address only\nhouseNumber,// Just house number (fastest search)\naddress,// Full address (least likely to match)\nstreetName,// Just street name (broader search)\naddress.replace(/[,\\s]+/g,' ').trim()// Cleaned address\n].filter(term=>term&&term.length>0);console.log('ðŸ” Search terms to try:',searchTerms);// Search both tables with simpler queries to avoid URL encoding issues\nlet currentListings={data:null,error:null};let soldListings={data:null,error:null};// Try each search term until we find results\nfor(const term of searchTerms){console.log(\"\\uD83D\\uDD0D Trying search term: \\\"\".concat(term,\"\\\"\"));if(!currentListings.data||currentListings.data.length===0){console.log(\"\\uD83D\\uDD0D Searching just_listed for: \\\"\".concat(term,\"\\\"\"));try{// Use timeout to prevent hanging on large datasets\nconst searchPromise=supabase.from('just_listed').select('id, address, addresscity, addressstate, carousel_photos_composable').ilike('address',\"%\".concat(term,\"%\")).limit(3);// Reduced limit for faster queries\nconst timeoutPromise=new Promise((_,reject)=>setTimeout(()=>reject(new Error('Search timeout')),10000));currentListings=await Promise.race([searchPromise,timeoutPromise]);if(currentListings.error){console.error('âŒ Error searching just_listed:',currentListings.error);}else{var _currentListings$data;console.log(\"\\uD83D\\uDCCA just_listed results: \".concat(((_currentListings$data=currentListings.data)===null||_currentListings$data===void 0?void 0:_currentListings$data.length)||0,\" found\"));}}catch(error){console.error('âŒ Timeout or error searching just_listed:',error);currentListings={data:null,error};}}if(!soldListings.data||soldListings.data.length===0){console.log(\"\\uD83D\\uDD0D Searching sold_listings for: \\\"\".concat(term,\"\\\"\"));try{// Use timeout to prevent hanging on large datasets\nconst searchPromise=supabase.from('sold_listings').select('id, address, addresscity, addressstate, carousel_photos_composable').ilike('address',\"%\".concat(term,\"%\")).limit(3);// Reduced limit for faster queries\nconst timeoutPromise=new Promise((_,reject)=>setTimeout(()=>reject(new Error('Search timeout')),10000));soldListings=await Promise.race([searchPromise,timeoutPromise]);if(soldListings.error){console.error('âŒ Error searching sold_listings:',soldListings.error);}else{var _soldListings$data;console.log(\"\\uD83D\\uDCCA sold_listings results: \".concat(((_soldListings$data=soldListings.data)===null||_soldListings$data===void 0?void 0:_soldListings$data.length)||0,\" found\"));}}catch(error){console.error('âŒ Timeout or error searching sold_listings:',error);soldListings={data:null,error};}}// If we found results, break\nif(currentListings.data&&currentListings.data.length>0||soldListings.data&&soldListings.data.length>0){console.log(\"\\u2705 Found results with term: \\\"\".concat(term,\"\\\"\"));break;}}// If no results found with partial matching, try exact matching for better performance\nif((!currentListings.data||currentListings.data.length===0)&&(!soldListings.data||soldListings.data.length===0)){console.log('ðŸ” No results with partial matching, trying exact matching...');try{const exactSearchPromise=Promise.all([supabase.from('just_listed').select('id, address, addresscity, addressstate, carousel_photos_composable').eq('address',address).limit(1),supabase.from('sold_listings').select('id, address, addresscity, addressstate, carousel_photos_composable').eq('address',address).limit(1)]);const timeoutPromise=new Promise((_,reject)=>setTimeout(()=>reject(new Error('Exact search timeout')),5000));const result=await Promise.race([exactSearchPromise,timeoutPromise]);const[exactCurrent,exactSold]=result;if(exactCurrent.data&&exactCurrent.data.length>0){currentListings=exactCurrent;console.log('âœ… Found exact match in just_listed');}if(exactSold.data&&exactSold.data.length>0){soldListings=exactSold;console.log('âœ… Found exact match in sold_listings');}}catch(error){console.log('âŒ Exact search failed:',error);}}console.log('ðŸ“Š Database search results:');console.log('Current listings found:',((_currentListings$data2=currentListings.data)===null||_currentListings$data2===void 0?void 0:_currentListings$data2.length)||0);console.log('Sold listings found:',((_soldListings$data2=soldListings.data)===null||_soldListings$data2===void 0?void 0:_soldListings$data2.length)||0);if(currentListings.data&&currentListings.data.length>0){console.log('Current listings:',currentListings.data.map(l=>({id:l.id,address:l.address,city:l.addresscity,state:l.addressstate})));}if(soldListings.data&&soldListings.data.length>0){console.log('Sold listings:',soldListings.data.map(l=>({id:l.id,address:l.address,city:l.addresscity,state:l.addressstate})));}const listing=((_currentListings$data3=currentListings.data)===null||_currentListings$data3===void 0?void 0:_currentListings$data3[0])||((_soldListings$data3=soldListings.data)===null||_soldListings$data3===void 0?void 0:_soldListings$data3[0]);if(listing){console.log('âœ… Found listing:',{id:listing.id,address:listing.address,city:listing.addresscity,state:listing.addressstate,hasPhotos:!!listing.carousel_photos_composable});if(listing.carousel_photos_composable){console.log('ðŸ“¸ Listing has photos, parsing...');try{// Use the utility function to parse Zillow photos\nconst photoUrls=parseZillowPhotos(listing.carousel_photos_composable);console.log('Parsed photo URLs from database:',photoUrls.length);if(photoUrls.length>0){// Convert URLs to Photo format\nconst photos=photoUrls.map((url,index)=>({id:\"photo-\".concat(index),url:url,thumbnailUrl:url,// Zillow URLs are already optimized\nfilename:\"property-photo-\".concat(index+1,\".jpg\"),uploadedAt:new Date()}));setState(prev=>_objectSpread(_objectSpread({},prev),{},{photos}));addToast(\"Found \".concat(photos.length,\" photos from database - Starting AI detection...\"),'success');// Automatically select all photos and start detection\nconst allPhotoIds=photos.map(photo=>photo.id);setSelectedPhotos(allPhotoIds);// Start AI detection automatically\nawait runAutomaticDetection(photos);}else{// No photos found\nsetState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('No photos found for this listing','error');}}catch(error){console.error('Error parsing carousel_photos_composable from database:',error);setState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('Error parsing carousel data','error');}}else{console.log('âŒ Listing found but no photos data');setState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('No photos found for this listing','error');}}else{console.log('âŒ No listing found in database for address:',address);setState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('No listing found in database for this address','error');}}catch(error){console.error('Error searching database for photos:',error);setState(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[]}));addToast('Error searching database','error');}};const handleClear=()=>{setState(prev=>_objectSpread(_objectSpread({},prev),{},{address:'',photos:[],detections:[]}));setSelectedPhotos([]);setSelectedListing(null);addToast('Cleared all data','success');};const handlePhotoSelect=photoId=>{setSelectedPhotos(prev=>prev.includes(photoId)?prev.filter(id=>id!==photoId):[...prev,photoId]);};const handleSelectAllPhotos=()=>{const allPhotoIds=state.photos.map(photo=>photo.id);setSelectedPhotos(allPhotoIds);};const handleDeselectAllPhotos=()=>{setSelectedPhotos([]);};const runAutomaticDetection=async photos=>{try{setIsDetecting(true);setState(prev=>_objectSpread(_objectSpread({},prev),{},{detections:[]}));// Clear previous detections\nconsole.log('Starting automatic AI detection on',photos.length,'photos');// Process photos one by one for real-time updates\nfor(let i=0;i<photos.length;i++){const photo=photos[i];console.log(\"Processing photo \".concat(i+1,\"/\").concat(photos.length,\":\"),photo.url);try{// Detect furniture in this single photo\nconst photoDetections=await FurnitureDetectionService.detectFurniture([photo.url]);if(photoDetections.length>0){// Add new detections to existing ones\nsetState(prev=>_objectSpread(_objectSpread({},prev),{},{detections:[...prev.detections,...photoDetections]}));console.log(\"Photo \".concat(i+1,\": Detected \").concat(photoDetections.length,\" items\"));// Show real-time toast for each photo\naddToast(\"Photo \".concat(i+1,\": Found \").concat(photoDetections.length,\" items\"),'success');}// Small delay to show real-time updates\nawait new Promise(resolve=>setTimeout(resolve,500));}catch(error){console.error(\"Error processing photo \".concat(i+1,\":\"),error);// Continue with next photo\n}}console.log('Automatic AI detection completed');addToast(\"AI detection completed! Found \".concat(state.detections.length,\" total items\"),'success');}catch(error){console.error('Automatic AI detection error:',error);addToast('AI detection failed. Please try again.','error');}finally{setIsDetecting(false);}};const handleRunDetection=async()=>{if(selectedPhotos.length===0){addToast('Please select photos first','error');return;}if(state.photos.length===0){addToast('No photos available for detection','error');return;}try{setIsDetecting(true);addToast('Starting AI furniture detection...','success');// Get selected photo objects\nconst selectedPhotoObjects=state.photos.filter(photo=>selectedPhotos.includes(photo.id));console.log('Running AI detection on',selectedPhotoObjects.length,'photos');// Run AI detection\nconst detections=await FurnitureDetectionService.analyzePhotos(selectedPhotoObjects);console.log('AI detection results:',detections);// Update state with detections\nsetState(prev=>_objectSpread(_objectSpread({},prev),{},{detections}));addToast(\"AI detection completed! Found \".concat(detections.length,\" furniture items\"),'success');}catch(error){console.error('AI detection error:',error);addToast('AI detection failed. Please try again.','error');}finally{setIsDetecting(false);}};const handleQuantityChange=(detectionIndex,quantity)=>{setState(prev=>_objectSpread(_objectSpread({},prev),{},{detections:prev.detections.map((detection,index)=>index===detectionIndex?_objectSpread(_objectSpread({},detection),{},{qty:quantity}):detection)}));};const handleNotesChange=(detectionIndex,notes)=>{setState(prev=>_objectSpread(_objectSpread({},prev),{},{detections:prev.detections.map((detection,index)=>index===detectionIndex?_objectSpread(_objectSpread({},detection),{},{notes}):detection)}));};const handleRemove=detectionIndex=>{setState(prev=>_objectSpread(_objectSpread({},prev),{},{detections:prev.detections.filter((_,index)=>index!==detectionIndex)}));addToast('Item removed from inventory','success');};const handleSendSMS=()=>{addToast('SMS quote sent successfully','success');};const handleSendEmail=()=>{addToast('Email quote sent successfully','success');};const handleDownloadPDF=async()=>{const quotePayload={address:state.address,detections:state.detections,estimate:state.estimate,timestamp:new Date()};const pdfBlob=await generatePdf(quotePayload);downloadFile(pdfBlob,'quote.pdf','application/pdf');addToast('PDF downloaded successfully','success');};const handleCopyCSV=()=>{const csvContent=toCSV(state.detections);navigator.clipboard.writeText(csvContent);addToast('CSV copied to clipboard','success');};const handleSaveProject=async()=>{if(!state.address&&state.detections.length===0){addToast('Please add an address or detections before saving','error');return;}try{setIsSaving(true);// Automatically use address as project name, fallback to \"Untitled Project\"\nconst projectName=state.address||'Untitled Project';if(currentProjectId){// Update existing project\nawait ProjectService.updateProject(currentProjectId,state.address,state.detections,state.estimate,projectName);addToast('Project updated successfully','success');}else{// Save new project\nconst project=await ProjectService.saveProject(state.address,state.detections,state.estimate,projectName);setCurrentProjectId(project.id);addToast('Project saved successfully','success');}}catch(error){console.error('Error saving project:',error);addToast(\"Failed to save project: \".concat(error.message),'error');}finally{setIsSaving(false);}};const handleLoadProject=project=>{setState({address:project.address,photos:[],// Photos aren't saved, user will need to reload\ndetections:project.detections,mapping:state.mapping,// Keep current mapping\nestimate:project.estimate});setCurrentProjectId(project.id);setSelectedPhotos([]);addToast('Project loaded successfully','success');};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900 tracking-tight\",children:\"Instant Quote Builder\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProjectHistory(true),className:\"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Project History\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveProject,disabled:isSaving||!state.address&&state.detections.length===0,className:\"text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-1 disabled:cursor-not-allowed\",children:isSaving?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Saving...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\"})}),/*#__PURE__*/_jsx(\"span\",{children:currentProjectId?'Update Project':'Save Project'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-6 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none cursor-pointer\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"San Francisco, CA\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Los Angeles, CA\"}),/*#__PURE__*/_jsx(\"option\",{children:\"New York, NY\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chicago, IL\"})]})]})]})})}),/*#__PURE__*/_jsx(\"main\",{className:\"bg-gray-50 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(SearchPanel,{address:state.address,onAddressChange:handleAddressChange,onFetchPhotos:handleFetchPhotos,onClear:handleClear,recentSearches:[],onListingSelect:handleListingSelect}),/*#__PURE__*/_jsx(PhotoGallery,{photos:state.photos,selectedPhotos:selectedPhotos,onPhotoSelect:handlePhotoSelect,onRunDetection:handleRunDetection,isDetecting:isDetecting,onSelectAll:handleSelectAllPhotos,onDeselectAll:handleDeselectAllPhotos})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(InventoryTable,{detections:state.detections,mapping:state.mapping,onQuantityChange:handleQuantityChange,onNotesChange:handleNotesChange,onRemove:handleRemove,isDetecting:isDetecting})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Export & Actions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Export inventory data and send quotes\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 pb-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(state.detections.length===0){addToast('Please detect items first before creating a quote','error');return;}navigate('/estimate',{state:{address:state.address,detections:state.detections,estimate:state.estimate,mapping:state.mapping}});},disabled:state.detections.length===0,className:\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2 disabled:cursor-not-allowed shadow-lg\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Continue to Complete Quote\"}),state.detections.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 bg-white bg-opacity-20 px-2 py-1 rounded text-sm\",children:[state.detections.length,\" items\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendSMS,className:\"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Send SMS Quote\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendEmail,className:\"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Email\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadPDF,className:\"bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Download PDF\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCopyCSV,className:\"bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy CSV\"})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 space-y-2 z-50\",children:toasts.map(toast=>/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 rounded-md shadow-lg text-sm font-medium \".concat(toast.type==='success'?'bg-green-100 text-green-800 border border-green-200':'bg-red-100 text-red-800 border border-red-200'),children:toast.message},toast.id))}),showProjectHistory&&/*#__PURE__*/_jsx(ProjectHistory,{onLoadProject:handleLoadProject,onClose:()=>setShowProjectHistory(false)})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","SearchPanel","PhotoGallery","InventoryTable","ProjectHistory","calculateEstimate","toCSV","generatePdf","downloadFile","parseZillowPhotos","FurnitureDetectionService","supabase","ProjectService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","mockMapping","cf","minutes","wrap","DashboardPage","navigate","state","setState","address","photos","detections","mapping","estimate","crew","rate","travelMins","stairs","elevator","wrapping","safetyPct","hours","total","selectedPhotos","setSelectedPhotos","selectedListing","setSelectedListing","isDetecting","setIsDetecting","toasts","setToasts","showProjectHistory","setShowProjectHistory","isSaving","setIsSaving","currentProjectId","setCurrentProjectId","length","result","prev","_objectSpread","addToast","message","type","id","Date","now","toString","setTimeout","filter","toast","handleAddressChange","handleListingSelect","listing","handleFetchPhotos","console","log","carousel_photos_composable","photoUrls","map","url","index","concat","thumbnailUrl","filename","uploadedAt","allPhotoIds","photo","runAutomaticDetection","error","fetchPhotosFromDatabase","_currentListings$data2","_soldListings$data2","_currentListings$data3","_soldListings$data3","addressParts","split","houseNumber","streetName","slice","join","searchTerms","replace","trim","term","currentListings","data","soldListings","searchPromise","from","select","ilike","limit","timeoutPromise","Promise","_","reject","Error","race","_currentListings$data","_soldListings$data","exactSearchPromise","all","eq","exactCurrent","exactSold","l","city","addresscity","addressstate","hasPhotos","handleClear","handlePhotoSelect","photoId","includes","handleSelectAllPhotos","handleDeselectAllPhotos","i","photoDetections","detectFurniture","resolve","handleRunDetection","selectedPhotoObjects","analyzePhotos","handleQuantityChange","detectionIndex","quantity","detection","qty","handleNotesChange","notes","handleRemove","handleSendSMS","handleSendEmail","handleDownloadPDF","quotePayload","timestamp","pdfBlob","handleCopyCSV","csvContent","navigator","clipboard","writeText","handleSaveProject","projectName","updateProject","project","saveProject","handleLoadProject","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","disabled","onAddressChange","onFetchPhotos","onClear","recentSearches","onListingSelect","onPhotoSelect","onRunDetection","onSelectAll","onDeselectAll","onQuantityChange","onNotesChange","onRemove","onLoadProject","onClose"],"sources":["/Users/admin/random/src/pages/DashboardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport SearchPanel from '../components/SearchPanel';\nimport PhotoGallery from '../components/PhotoGallery';\nimport InventoryTable from '../components/InventoryTable';\nimport ProjectHistory from '../components/ProjectHistory';\nimport { AppState, Photo, MappingTable, QuotePayload } from '../types';\nimport { calculateEstimate } from '../lib/estimate';\nimport { toCSV, generatePdf, downloadFile } from '../lib/export';\nimport { parseZillowPhotos } from '../lib/zillowPhotos';\nimport { FurnitureDetectionService } from '../lib/furnitureDetection';\nimport { supabase } from '../lib/supabase';\nimport { ProjectService, Project } from '../lib/projectService';\n\nconst mockMapping: MappingTable = {\n  'Sofa': { cf: 25, minutes: 30, wrap: true },\n  'Dining Table': { cf: 15, minutes: 20, wrap: true },\n  'Refrigerator': { cf: 35, minutes: 45, wrap: false },\n  'Chair': { cf: 3, minutes: 5, wrap: true },\n  'Bed': { cf: 20, minutes: 25, wrap: true },\n  'Dresser': { cf: 12, minutes: 15, wrap: true },\n  'TV': { cf: 8, minutes: 10, wrap: true },\n  'Bookshelf': { cf: 10, minutes: 12, wrap: false }\n};\n\nexport default function DashboardPage() {\n  const navigate = useNavigate();\n  const [state, setState] = useState<AppState>({\n    address: '',\n    photos: [],\n    detections: [],\n    mapping: mockMapping,\n    estimate: {\n      crew: 3,\n      rate: 75,\n      travelMins: 30,\n      stairs: false,\n      elevator: false,\n      wrapping: false,\n      safetyPct: 10,\n      hours: 0,\n      total: 0\n    }\n  });\n\n  const [selectedPhotos, setSelectedPhotos] = useState<string[]>([]);\n  const [selectedListing, setSelectedListing] = useState<any>(null);\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [toasts, setToasts] = useState<Array<{ id: string; message: string; type: 'success' | 'error' }>>([]);\n  const [showProjectHistory, setShowProjectHistory] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [currentProjectId, setCurrentProjectId] = useState<string | null>(null);\n\n  // Update estimate when detections or estimate params change\n  useEffect(() => {\n    if (state.detections.length > 0) {\n      const result = calculateEstimate(state.detections, state.mapping, {\n        crew: state.estimate.crew,\n        rate: state.estimate.rate,\n        travelMins: state.estimate.travelMins,\n        stairs: state.estimate.stairs,\n        elevator: state.estimate.elevator,\n        wrapping: state.estimate.wrapping,\n        safetyPct: state.estimate.safetyPct\n      });\n\n      setState(prev => ({\n        ...prev,\n        estimate: {\n          ...prev.estimate,\n          hours: result.hours,\n          total: result.total\n        }\n      }));\n    }\n  }, [state.detections, state.mapping, state.estimate.crew, state.estimate.rate, state.estimate.travelMins, state.estimate.stairs, state.estimate.elevator, state.estimate.wrapping, state.estimate.safetyPct]);\n\n  const addToast = (message: string, type: 'success' | 'error') => {\n    const id = Date.now().toString();\n    setToasts(prev => [...prev, { id, message, type }]);\n    setTimeout(() => {\n      setToasts(prev => prev.filter(toast => toast.id !== id));\n    }, 3000);\n  };\n\n  const handleAddressChange = (address: string) => {\n    setState(prev => ({ ...prev, address }));\n  };\n\n  const handleListingSelect = (listing: any) => {\n    setSelectedListing(listing);\n  };\n\n  const handleFetchPhotos = async () => {\n    if (!selectedListing) {\n      addToast('Please select a listing from the autocomplete first', 'error');\n      return;\n    }\n    \n    try {\n      console.log('Fetching photos for selected listing:', selectedListing.address);\n      console.log('Has carousel_photos_composable:', !!selectedListing.carousel_photos_composable);\n      \n      // Check if the listing has carousel_photos_composable data\n      if (selectedListing.carousel_photos_composable) {\n        try {\n          // Use the utility function to parse Zillow photos\n          const photoUrls = parseZillowPhotos(selectedListing.carousel_photos_composable);\n          \n          console.log('Parsed photo URLs:', photoUrls.length);\n          \n          if (photoUrls.length > 0) {\n            // Convert URLs to Photo format\n            const photos: Photo[] = photoUrls.map((url: string, index: number) => ({\n              id: `photo-${index}`,\n              url: url,\n              thumbnailUrl: url, // Zillow URLs are already optimized\n              filename: `property-photo-${index + 1}.jpg`,\n              uploadedAt: new Date()\n            }));\n            \n            setState(prev => ({ ...prev, photos }));\n            addToast(`Found ${photos.length} photos - Starting AI detection...`, 'success');\n            \n            // Automatically select all photos and start detection\n            const allPhotoIds = photos.map(photo => photo.id);\n            setSelectedPhotos(allPhotoIds);\n            \n            // Start AI detection automatically\n            await runAutomaticDetection(photos);\n            \n          } else {\n            // No photos found\n            setState(prev => ({ ...prev, photos: [] }));\n            addToast('No photos found for this listing', 'error');\n          }\n        } catch (error) {\n          console.error('Error parsing carousel_photos_composable:', error);\n          // No fallback - show error\n          setState(prev => ({ ...prev, photos: [] }));\n          addToast('Error parsing carousel data', 'error');\n        }\n      } else {\n        // No carousel_photos_composable data - try to fetch from database\n        console.log('No carousel data in selected listing, searching database...');\n        await fetchPhotosFromDatabase(selectedListing.address);\n      }\n    } catch (error) {\n      console.error('Error fetching photos:', error);\n      // No fallback - show error\n      setState(prev => ({ ...prev, photos: [] }));\n      addToast('Error fetching photos', 'error');\n    }\n  };\n\n  const fetchPhotosFromDatabase = async (address: string) => {\n    try {\n      console.log('ðŸ” Searching database for photos:', address);\n      \n      // Optimized search strategy for 40,000+ records\n      const addressParts = address.split(' ');\n      const houseNumber = addressParts[0];\n      const streetName = addressParts.slice(1, 3).join(' '); // First 2 words after house number\n      \n      // Prioritize more specific searches first to reduce database load\n      const searchTerms = [\n        `${houseNumber} ${streetName}`, // Most specific: house + street\n        address.split(',')[0], // Street address only\n        houseNumber, // Just house number (fastest search)\n        address, // Full address (least likely to match)\n        streetName, // Just street name (broader search)\n        address.replace(/[,\\s]+/g, ' ').trim() // Cleaned address\n      ].filter(term => term && term.length > 0);\n      \n      console.log('ðŸ” Search terms to try:', searchTerms);\n      \n      // Search both tables with simpler queries to avoid URL encoding issues\n      let currentListings: any = { data: null, error: null };\n      let soldListings: any = { data: null, error: null };\n      \n      // Try each search term until we find results\n      for (const term of searchTerms) {\n        console.log(`ðŸ” Trying search term: \"${term}\"`);\n        \n        if (!currentListings.data || currentListings.data.length === 0) {\n          console.log(`ðŸ” Searching just_listed for: \"${term}\"`);\n          try {\n            // Use timeout to prevent hanging on large datasets\n            const searchPromise = supabase\n              .from('just_listed')\n              .select('id, address, addresscity, addressstate, carousel_photos_composable')\n              .ilike('address', `%${term}%`)\n              .limit(3); // Reduced limit for faster queries\n            \n            const timeoutPromise = new Promise((_, reject) => \n              setTimeout(() => reject(new Error('Search timeout')), 10000)\n            );\n            \n            currentListings = await Promise.race([searchPromise, timeoutPromise]);\n            \n            if (currentListings.error) {\n              console.error('âŒ Error searching just_listed:', currentListings.error);\n            } else {\n              console.log(`ðŸ“Š just_listed results: ${currentListings.data?.length || 0} found`);\n            }\n          } catch (error) {\n            console.error('âŒ Timeout or error searching just_listed:', error);\n            currentListings = { data: null, error };\n          }\n        }\n        \n        if (!soldListings.data || soldListings.data.length === 0) {\n          console.log(`ðŸ” Searching sold_listings for: \"${term}\"`);\n          try {\n            // Use timeout to prevent hanging on large datasets\n            const searchPromise = supabase\n              .from('sold_listings')\n              .select('id, address, addresscity, addressstate, carousel_photos_composable')\n              .ilike('address', `%${term}%`)\n              .limit(3); // Reduced limit for faster queries\n            \n            const timeoutPromise = new Promise((_, reject) => \n              setTimeout(() => reject(new Error('Search timeout')), 10000)\n            );\n            \n            soldListings = await Promise.race([searchPromise, timeoutPromise]);\n            \n            if (soldListings.error) {\n              console.error('âŒ Error searching sold_listings:', soldListings.error);\n            } else {\n              console.log(`ðŸ“Š sold_listings results: ${soldListings.data?.length || 0} found`);\n            }\n          } catch (error) {\n            console.error('âŒ Timeout or error searching sold_listings:', error);\n            soldListings = { data: null, error };\n          }\n        }\n        \n        // If we found results, break\n        if ((currentListings.data && currentListings.data.length > 0) || \n            (soldListings.data && soldListings.data.length > 0)) {\n          console.log(`âœ… Found results with term: \"${term}\"`);\n          break;\n        }\n      }\n      \n      // If no results found with partial matching, try exact matching for better performance\n      if ((!currentListings.data || currentListings.data.length === 0) && \n          (!soldListings.data || soldListings.data.length === 0)) {\n        console.log('ðŸ” No results with partial matching, trying exact matching...');\n        \n        try {\n          const exactSearchPromise = Promise.all([\n            supabase\n              .from('just_listed')\n              .select('id, address, addresscity, addressstate, carousel_photos_composable')\n              .eq('address', address)\n              .limit(1),\n            supabase\n              .from('sold_listings')\n              .select('id, address, addresscity, addressstate, carousel_photos_composable')\n              .eq('address', address)\n              .limit(1)\n          ]);\n          \n          const timeoutPromise = new Promise((_, reject) => \n            setTimeout(() => reject(new Error('Exact search timeout')), 5000)\n          );\n          \n          const result = await Promise.race([exactSearchPromise, timeoutPromise]) as any;\n          const [exactCurrent, exactSold] = result;\n          \n          if (exactCurrent.data && exactCurrent.data.length > 0) {\n            currentListings = exactCurrent;\n            console.log('âœ… Found exact match in just_listed');\n          }\n          if (exactSold.data && exactSold.data.length > 0) {\n            soldListings = exactSold;\n            console.log('âœ… Found exact match in sold_listings');\n          }\n        } catch (error) {\n          console.log('âŒ Exact search failed:', error);\n        }\n      }\n\n      console.log('ðŸ“Š Database search results:');\n      console.log('Current listings found:', currentListings.data?.length || 0);\n      console.log('Sold listings found:', soldListings.data?.length || 0);\n      \n      if (currentListings.data && currentListings.data.length > 0) {\n        console.log('Current listings:', currentListings.data.map((l: any) => ({ id: l.id, address: l.address, city: l.addresscity, state: l.addressstate })));\n      }\n      if (soldListings.data && soldListings.data.length > 0) {\n        console.log('Sold listings:', soldListings.data.map((l: any) => ({ id: l.id, address: l.address, city: l.addresscity, state: l.addressstate })));\n      }\n\n      const listing = currentListings.data?.[0] || soldListings.data?.[0];\n      \n      if (listing) {\n        console.log('âœ… Found listing:', {\n          id: listing.id,\n          address: listing.address,\n          city: listing.addresscity,\n          state: listing.addressstate,\n          hasPhotos: !!listing.carousel_photos_composable\n        });\n        \n        if (listing.carousel_photos_composable) {\n          console.log('ðŸ“¸ Listing has photos, parsing...');\n        \n        try {\n          // Use the utility function to parse Zillow photos\n          const photoUrls = parseZillowPhotos(listing.carousel_photos_composable);\n          \n          console.log('Parsed photo URLs from database:', photoUrls.length);\n          \n          if (photoUrls.length > 0) {\n            // Convert URLs to Photo format\n            const photos: Photo[] = photoUrls.map((url: string, index: number) => ({\n              id: `photo-${index}`,\n              url: url,\n              thumbnailUrl: url, // Zillow URLs are already optimized\n              filename: `property-photo-${index + 1}.jpg`,\n              uploadedAt: new Date()\n            }));\n            \n            setState(prev => ({ ...prev, photos }));\n            addToast(`Found ${photos.length} photos from database - Starting AI detection...`, 'success');\n            \n            // Automatically select all photos and start detection\n            const allPhotoIds = photos.map(photo => photo.id);\n            setSelectedPhotos(allPhotoIds);\n            \n            // Start AI detection automatically\n            await runAutomaticDetection(photos);\n            \n          } else {\n            // No photos found\n            setState(prev => ({ ...prev, photos: [] }));\n            addToast('No photos found for this listing', 'error');\n          }\n        } catch (error) {\n          console.error('Error parsing carousel_photos_composable from database:', error);\n          setState(prev => ({ ...prev, photos: [] }));\n          addToast('Error parsing carousel data', 'error');\n        }\n        } else {\n          console.log('âŒ Listing found but no photos data');\n          setState(prev => ({ ...prev, photos: [] }));\n          addToast('No photos found for this listing', 'error');\n        }\n      } else {\n        console.log('âŒ No listing found in database for address:', address);\n        setState(prev => ({ ...prev, photos: [] }));\n        addToast('No listing found in database for this address', 'error');\n      }\n    } catch (error) {\n      console.error('Error searching database for photos:', error);\n      setState(prev => ({ ...prev, photos: [] }));\n      addToast('Error searching database', 'error');\n    }\n  };\n\n  const handleClear = () => {\n    setState(prev => ({\n      ...prev,\n      address: '',\n      photos: [],\n      detections: []\n    }));\n    setSelectedPhotos([]);\n    setSelectedListing(null);\n    addToast('Cleared all data', 'success');\n  };\n\n  const handlePhotoSelect = (photoId: string) => {\n    setSelectedPhotos(prev => \n      prev.includes(photoId) \n        ? prev.filter(id => id !== photoId)\n        : [...prev, photoId]\n    );\n  };\n\n  const handleSelectAllPhotos = () => {\n    const allPhotoIds = state.photos.map(photo => photo.id);\n    setSelectedPhotos(allPhotoIds);\n  };\n\n  const handleDeselectAllPhotos = () => {\n    setSelectedPhotos([]);\n  };\n\n  const runAutomaticDetection = async (photos: Photo[]) => {\n    try {\n      setIsDetecting(true);\n      setState(prev => ({ ...prev, detections: [] })); // Clear previous detections\n      console.log('Starting automatic AI detection on', photos.length, 'photos');\n      \n      // Process photos one by one for real-time updates\n      for (let i = 0; i < photos.length; i++) {\n        const photo = photos[i];\n        console.log(`Processing photo ${i + 1}/${photos.length}:`, photo.url);\n        \n        try {\n          // Detect furniture in this single photo\n          const photoDetections = await FurnitureDetectionService.detectFurniture([photo.url]);\n          \n          if (photoDetections.length > 0) {\n            // Add new detections to existing ones\n            setState(prev => ({\n              ...prev,\n              detections: [...prev.detections, ...photoDetections]\n            }));\n            \n            console.log(`Photo ${i + 1}: Detected ${photoDetections.length} items`);\n            \n            // Show real-time toast for each photo\n            addToast(`Photo ${i + 1}: Found ${photoDetections.length} items`, 'success');\n          }\n          \n          // Small delay to show real-time updates\n          await new Promise(resolve => setTimeout(resolve, 500));\n          \n        } catch (error) {\n          console.error(`Error processing photo ${i + 1}:`, error);\n          // Continue with next photo\n        }\n      }\n      \n      console.log('Automatic AI detection completed');\n      addToast(`AI detection completed! Found ${state.detections.length} total items`, 'success');\n      \n    } catch (error) {\n      console.error('Automatic AI detection error:', error);\n      addToast('AI detection failed. Please try again.', 'error');\n    } finally {\n      setIsDetecting(false);\n    }\n  };\n\n  const handleRunDetection = async () => {\n    if (selectedPhotos.length === 0) {\n      addToast('Please select photos first', 'error');\n      return;\n    }\n    \n    if (state.photos.length === 0) {\n      addToast('No photos available for detection', 'error');\n      return;\n    }\n    \n    try {\n      setIsDetecting(true);\n      addToast('Starting AI furniture detection...', 'success');\n      \n      // Get selected photo objects\n      const selectedPhotoObjects = state.photos.filter(photo => \n        selectedPhotos.includes(photo.id)\n      );\n      \n      console.log('Running AI detection on', selectedPhotoObjects.length, 'photos');\n      \n      // Run AI detection\n      const detections = await FurnitureDetectionService.analyzePhotos(selectedPhotoObjects);\n      \n      console.log('AI detection results:', detections);\n      \n      // Update state with detections\n      setState(prev => ({ ...prev, detections }));\n      \n      addToast(`AI detection completed! Found ${detections.length} furniture items`, 'success');\n      \n    } catch (error) {\n      console.error('AI detection error:', error);\n      addToast('AI detection failed. Please try again.', 'error');\n    } finally {\n      setIsDetecting(false);\n    }\n  };\n\n  const handleQuantityChange = (detectionIndex: number, quantity: number) => {\n    setState(prev => ({\n      ...prev,\n      detections: prev.detections.map((detection, index) =>\n        index === detectionIndex ? { ...detection, qty: quantity } : detection\n      )\n    }));\n  };\n\n  const handleNotesChange = (detectionIndex: number, notes: string) => {\n    setState(prev => ({\n      ...prev,\n      detections: prev.detections.map((detection, index) =>\n        index === detectionIndex ? { ...detection, notes } : detection\n      )\n    }));\n  };\n\n\n  const handleRemove = (detectionIndex: number) => {\n    setState(prev => ({\n      ...prev,\n      detections: prev.detections.filter((_, index) => index !== detectionIndex)\n    }));\n    addToast('Item removed from inventory', 'success');\n  };\n\n  const handleSendSMS = () => {\n    addToast('SMS quote sent successfully', 'success');\n  };\n\n  const handleSendEmail = () => {\n    addToast('Email quote sent successfully', 'success');\n  };\n\n  const handleDownloadPDF = async () => {\n    const quotePayload: QuotePayload = {\n      address: state.address,\n      detections: state.detections,\n      estimate: state.estimate,\n      timestamp: new Date()\n    };\n    \n    const pdfBlob = await generatePdf(quotePayload);\n    downloadFile(pdfBlob, 'quote.pdf', 'application/pdf');\n    addToast('PDF downloaded successfully', 'success');\n  };\n\n  const handleCopyCSV = () => {\n    const csvContent = toCSV(state.detections);\n    navigator.clipboard.writeText(csvContent);\n    addToast('CSV copied to clipboard', 'success');\n  };\n\n  const handleSaveProject = async () => {\n    if (!state.address && state.detections.length === 0) {\n      addToast('Please add an address or detections before saving', 'error');\n      return;\n    }\n\n    try {\n      setIsSaving(true);\n      // Automatically use address as project name, fallback to \"Untitled Project\"\n      const projectName = state.address || 'Untitled Project';\n\n      if (currentProjectId) {\n        // Update existing project\n        await ProjectService.updateProject(\n          currentProjectId,\n          state.address,\n          state.detections,\n          state.estimate,\n          projectName\n        );\n        addToast('Project updated successfully', 'success');\n      } else {\n        // Save new project\n        const project = await ProjectService.saveProject(\n          state.address,\n          state.detections,\n          state.estimate,\n          projectName\n        );\n        setCurrentProjectId(project.id);\n        addToast('Project saved successfully', 'success');\n      }\n    } catch (error: any) {\n      console.error('Error saving project:', error);\n      addToast(`Failed to save project: ${error.message}`, 'error');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleLoadProject = (project: Project) => {\n    setState({\n      address: project.address,\n      photos: [], // Photos aren't saved, user will need to reload\n      detections: project.detections,\n      mapping: state.mapping, // Keep current mapping\n      estimate: project.estimate\n    });\n    setCurrentProjectId(project.id);\n    setSelectedPhotos([]);\n    addToast('Project loaded successfully', 'success');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-100\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n              <h1 className=\"text-xl font-semibold text-gray-900 tracking-tight\">Instant Quote Builder</h1>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => setShowProjectHistory(true)}\n                className=\"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors flex items-center space-x-1\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span>Project History</span>\n              </button>\n              <button\n                onClick={handleSaveProject}\n                disabled={isSaving || (!state.address && state.detections.length === 0)}\n                className=\"text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-1 disabled:cursor-not-allowed\"\n              >\n                {isSaving ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></div>\n                    <span>Saving...</span>\n                  </>\n                ) : (\n                  <>\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\n                    </svg>\n                    <span>{currentProjectId ? 'Update Project' : 'Save Project'}</span>\n                  </>\n                )}\n              </button>\n              <div className=\"w-px h-6 bg-gray-200\"></div>\n              <select className=\"text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none cursor-pointer\">\n                <option>San Francisco, CA</option>\n                <option>Los Angeles, CA</option>\n                <option>New York, NY</option>\n                <option>Chicago, IL</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"bg-gray-50 min-h-screen\">\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            {/* Left Column: Search + Photos */}\n            <div className=\"space-y-6\">\n              <SearchPanel\n                address={state.address}\n                onAddressChange={handleAddressChange}\n                onFetchPhotos={handleFetchPhotos}\n                onClear={handleClear}\n                recentSearches={[]}\n                onListingSelect={handleListingSelect}\n              />\n              <PhotoGallery\n                photos={state.photos}\n                selectedPhotos={selectedPhotos}\n                onPhotoSelect={handlePhotoSelect}\n                onRunDetection={handleRunDetection}\n                isDetecting={isDetecting}\n                onSelectAll={handleSelectAllPhotos}\n                onDeselectAll={handleDeselectAllPhotos}\n              />\n            </div>\n\n            {/* Right Column: Inventory (Standalone) */}\n            <div>\n              <InventoryTable\n                detections={state.detections}\n                mapping={state.mapping}\n                onQuantityChange={handleQuantityChange}\n                onNotesChange={handleNotesChange}\n                onRemove={handleRemove}\n                isDetecting={isDetecting}\n              />\n            </div>\n          </div>\n        \n        {/* Action Buttons - Full Width Below */}\n        <div className=\"mt-8\">\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Export & Actions</h2>\n                <p className=\"text-sm text-gray-600\">Export inventory data and send quotes</p>\n              </div>\n            </div>\n            \n            <div className=\"mb-4 pb-4 border-b border-gray-200\">\n              <button\n                onClick={() => {\n                  if (state.detections.length === 0) {\n                    addToast('Please detect items first before creating a quote', 'error');\n                    return;\n                  }\n                  navigate('/estimate', {\n                    state: {\n                      address: state.address,\n                      detections: state.detections,\n                      estimate: state.estimate,\n                      mapping: state.mapping\n                    }\n                  });\n                }}\n                disabled={state.detections.length === 0}\n                className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2 disabled:cursor-not-allowed shadow-lg\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <span>Continue to Complete Quote</span>\n                {state.detections.length > 0 && (\n                  <span className=\"ml-2 bg-white bg-opacity-20 px-2 py-1 rounded text-sm\">\n                    {state.detections.length} items\n                  </span>\n                )}\n              </button>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\n              <button\n                onClick={handleSendSMS}\n                className=\"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n                <span>Send SMS Quote</span>\n              </button>\n              <button\n                onClick={handleSendEmail}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                </svg>\n                <span>Send Email</span>\n              </button>\n              <button\n                onClick={handleDownloadPDF}\n                className=\"bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <span>Download PDF</span>\n              </button>\n              <button\n                onClick={handleCopyCSV}\n                className=\"bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <span>Copy CSV</span>\n              </button>\n            </div>\n          </div>\n        </div>\n        </div>\n      </main>\n\n      {/* Toast Notifications */}\n      <div className=\"fixed top-4 right-4 space-y-2 z-50\">\n        {toasts.map(toast => (\n          <div\n            key={toast.id}\n            className={`px-4 py-2 rounded-md shadow-lg text-sm font-medium ${\n              toast.type === 'success' \n                ? 'bg-green-100 text-green-800 border border-green-200' \n                : 'bg-red-100 text-red-800 border border-red-200'\n            }`}\n          >\n            {toast.message}\n          </div>\n        ))}\n      </div>\n\n      {/* Project History Modal */}\n      {showProjectHistory && (\n        <ProjectHistory\n          onLoadProject={handleLoadProject}\n          onClose={() => setShowProjectHistory(false)}\n        />\n      )}\n    </div>\n  );\n}\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}